05/22/2019 02:38:57 PM INFO     Started
05/22/2019 02:38:57 PM INFO     out_file = c:\d\PGCheker.out
05/22/2019 02:38:57 PM DEBUG    db ini file = db_1.ini
05/22/2019 02:38:57 PM DEBUG    hostName=srv-tnormap1-pg01
05/22/2019 02:38:57 PM DEBUG    portNumber=5432
05/22/2019 02:38:57 PM DEBUG    database=ehdapi2
05/22/2019 02:38:57 PM DEBUG    username=pgmonitor
05/22/2019 02:38:57 PM DEBUG    password=pgmonitor
05/22/2019 02:38:57 PM DEBUG    version=0
05/22/2019 02:38:57 PM DEBUG    role=unknown
05/22/2019 02:38:57 PM DEBUG    Connected!
05/22/2019 02:38:57 PM DEBUG    db ini file = db_2.ini
05/22/2019 02:38:57 PM DEBUG    hostName=srv-supdp2-pg01st
05/22/2019 02:38:57 PM DEBUG    portNumber=5432
05/22/2019 02:38:57 PM DEBUG    database=postgres
05/22/2019 02:38:57 PM DEBUG    username=pgmonitor
05/22/2019 02:38:57 PM DEBUG    password=pgmonitor
05/22/2019 02:38:57 PM DEBUG    version=9
05/22/2019 02:38:57 PM DEBUG    role=replic_master
05/22/2019 02:38:57 PM DEBUG    Connected!
05/22/2019 02:38:57 PM DEBUG    db ini file = db_3.ini
05/22/2019 02:38:57 PM DEBUG    hostName=srv-sm-arm04
05/22/2019 02:38:57 PM DEBUG    portNumber=5432
05/22/2019 02:38:57 PM DEBUG    database=susemanager
05/22/2019 02:38:57 PM DEBUG    username=pgmonitor
05/22/2019 02:38:57 PM DEBUG    password=pgmonitor
05/22/2019 02:38:57 PM DEBUG    version=0
05/22/2019 02:38:57 PM DEBUG    role=unknown
05/22/2019 02:38:58 PM DEBUG    Connected!
05/22/2019 02:38:58 PM DEBUG    db ini file = db_4.ini
05/22/2019 02:38:58 PM DEBUG    hostName=srv-supdp2-pg01
05/22/2019 02:38:58 PM DEBUG    portNumber=5432
05/22/2019 02:38:58 PM DEBUG    database=postgres
05/22/2019 02:38:58 PM DEBUG    username=pgmonitor
05/22/2019 02:38:58 PM DEBUG    password=pgmonitor
05/22/2019 02:38:58 PM DEBUG    version=9
05/22/2019 02:38:58 PM DEBUG    role=replic_slave
05/22/2019 02:38:58 PM DEBUG    Connected!
05/22/2019 02:38:58 PM DEBUG    check ini file = check_1.ini
05/22/2019 02:38:58 PM DEBUG    --------
05/22/2019 02:38:58 PM DEBUG    nameParamFile=check_1.ini
05/22/2019 02:38:58 PM DEBUG    column = ratio
05/22/2019 02:38:58 PM DEBUG    ok_min_value = 0.90
05/22/2019 02:38:58 PM DEBUG    ok_max_value = 1
05/22/2019 02:38:58 PM DEBUG    warning_min_value = 0.80
05/22/2019 02:38:58 PM DEBUG    warning_max_value = 0.90
05/22/2019 02:38:58 PM DEBUG    sqlText = SELECT
sum(heap_blks_hit) / (sum(heap_blks_hit) + sum(heap_blks_read)) as ratio
FROM
pg_statio_all_tables;
05/22/2019 02:38:58 PM DEBUG    desc = cache hit ratio
05/22/2019 02:38:58 PM DEBUG    type = check_float
05/22/2019 02:38:58 PM DEBUG    version=0
05/22/2019 02:38:58 PM DEBUG    role=unknown
05/22/2019 02:38:58 PM DEBUG    check ini file = check_2_session_cnt.ini
05/22/2019 02:38:58 PM DEBUG    --------
05/22/2019 02:38:58 PM DEBUG    nameParamFile=check_2_session_cnt.ini
05/22/2019 02:38:58 PM DEBUG    sqlText = SELECT rpad(coalesce(usename,'NULL'),20)||' '|| rpad(coalesce(state,'NULL'),25) ||'  ' ||  count(*) as RESULT
FROM  pg_stat_activity
GROUP BY usename,  state
ORDER BY usename,  state ;
05/22/2019 02:38:58 PM DEBUG    desc = session count info
05/22/2019 02:38:58 PM DEBUG    type = info
05/22/2019 02:38:58 PM DEBUG    version=0
05/22/2019 02:38:58 PM DEBUG    role=unknown
05/22/2019 02:38:58 PM DEBUG    check ini file = check_3_size.ini
05/22/2019 02:38:58 PM DEBUG    --------
05/22/2019 02:38:58 PM DEBUG    nameParamFile=check_3_size.ini
05/22/2019 02:38:58 PM DEBUG    sqlText = select rpad('database_name',20) ||' | '|| rpad('size_in_mb',20)  AS RESULT
union all
select rpad('-------------',20) ||' | '|| rpad('---------',20)  AS RESULT
union all
SELECT rpad(pg_database.datname,20)||' | '|| rpad( to_char( pg_database_size(pg_database.datname)/1024/1024,'999999999') ,20) AS RESULT
FROM pg_database;
05/22/2019 02:38:58 PM DEBUG    desc = Size of all databases
05/22/2019 02:38:58 PM DEBUG    type = info
05/22/2019 02:38:58 PM DEBUG    version=0
05/22/2019 02:38:58 PM DEBUG    role=unknown
05/22/2019 02:38:58 PM DEBUG    check ini file = check_4_replic_master_1.ini
05/22/2019 02:38:58 PM DEBUG    --------
05/22/2019 02:38:58 PM DEBUG    nameParamFile=check_4_replic_master_1.ini
05/22/2019 02:38:58 PM DEBUG    sqlText = select ' client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | ' as result
union all
select '------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| ' as result
union all
select rpad(text(client_addr),18)||'|'||
rpad(state,15)||'|'||
rpad(text(sent_location),20)||'|'||
rpad(text(write_location),20)||'|'||
rpad(text(flush_location),20)||'|'||
rpad(text(replay_location),20)||'|'||
rpad(to_char(pg_xlog_location_diff(sent_location,replay_location),'99999999999'),20)  as byte_lag
from func_stat_replication();
05/22/2019 02:38:58 PM DEBUG    desc = Master replication state
05/22/2019 02:38:58 PM DEBUG    type = info
05/22/2019 02:38:58 PM DEBUG    version=9
05/22/2019 02:38:58 PM DEBUG    role=replic_master
05/22/2019 02:38:58 PM DEBUG    check ini file = check_5_replic_slave_1.ini
05/22/2019 02:38:58 PM DEBUG    --------
05/22/2019 02:38:58 PM DEBUG    nameParamFile=check_5_replic_slave_1.ini
05/22/2019 02:38:58 PM DEBUG    column = ratio
05/22/2019 02:38:58 PM DEBUG    ok_value = True
05/22/2019 02:38:58 PM DEBUG    sqlText = Select
Cast(Case
When pg_is_in_recovery() Then 'True'
ELse 'False' END
AS Varchar(256)) as status
from pg_is_in_recovery() ;
05/22/2019 02:38:58 PM DEBUG    desc = Recovery replication status
05/22/2019 02:38:58 PM DEBUG    type = check_str
05/22/2019 02:38:58 PM DEBUG    version=9
05/22/2019 02:38:58 PM DEBUG    role=replic_slave
05/22/2019 02:38:58 PM DEBUG    check ini file = check_5_replic_slave_2.ini
05/22/2019 02:38:58 PM DEBUG    --------
05/22/2019 02:38:58 PM DEBUG    nameParamFile=check_5_replic_slave_2.ini
05/22/2019 02:38:58 PM DEBUG    column = result
05/22/2019 02:38:58 PM DEBUG    ok_value = 
05/22/2019 02:38:58 PM DEBUG    sqlText = select to_char(now()-pg_last_xact_replay_timestamp(), 'yyyy-MM-dd HH24:mm:ss') as result;
05/22/2019 02:38:58 PM DEBUG    desc = Recovery replication apply delay
05/22/2019 02:38:58 PM DEBUG    type = check_str
05/22/2019 02:38:58 PM DEBUG    version=9
05/22/2019 02:38:58 PM DEBUG    role=replic_slave
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 02:38:58 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 02:38:58 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 02:38:58 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    result=0.999936158974066
05/22/2019 02:38:58 PM DEBUG    resultSql = 0.999936158974066
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: Value : 0.999936158974066 OK
05/22/2019 02:38:58 PM DEBUG    --- one_check started: session count info
05/22/2019 02:38:58 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 02:38:58 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    result next string=ehdapi2              NULL                       4
05/22/2019 02:38:58 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 02:38:58 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 02:38:58 PM DEBUG    result next string=NULL                 NULL                       4
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: ehdapi2              NULL                       4
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: postgres             NULL                       1
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: NULL                 NULL                       4
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 02:38:58 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 02:38:58 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 02:38:58 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 02:38:58 PM DEBUG    result next string=postgres             |         17          
05/22/2019 02:38:58 PM DEBUG    result next string=template1            |          7          
05/22/2019 02:38:58 PM DEBUG    result next string=template0            |          7          
05/22/2019 02:38:58 PM DEBUG    result next string=template_postgis     |         14          
05/22/2019 02:38:58 PM DEBUG    result next string=ehdapi2              |         19          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: postgres             |         17          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: template1            |          7          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: template0            |          7          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: template_postgis     |         14          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: ehdapi2              |         19          
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Master replication state
05/22/2019 02:38:58 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 02:38:58 PM DEBUG    version not equals, exit
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 02:38:58 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 02:38:58 PM DEBUG    version not equals, exit
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 02:38:58 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 02:38:58 PM DEBUG    version not equals, exit
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01st, port=5432, database=postgres
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 02:38:58 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 02:38:58 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 02:38:58 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    result=0.993150426942361
05/22/2019 02:38:58 PM DEBUG    resultSql = 0.993150426942361
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: Value : 0.993150426942361 OK
05/22/2019 02:38:58 PM DEBUG    --- one_check started: session count info
05/22/2019 02:38:58 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 02:38:58 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    result next string=gdoc                 NULL                       117
05/22/2019 02:38:58 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 02:38:58 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 02:38:58 PM DEBUG    result next string=sbrazgin             NULL                       2
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: gdoc                 NULL                       117
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: postgres             NULL                       1
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: sbrazgin             NULL                       2
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 02:38:58 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 02:38:58 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 02:38:58 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 02:38:58 PM DEBUG    result next string=postgres             |          7          
05/22/2019 02:38:58 PM DEBUG    result next string=template1            |          6          
05/22/2019 02:38:58 PM DEBUG    result next string=template0            |          6          
05/22/2019 02:38:58 PM DEBUG    result next string=test                 |          7          
05/22/2019 02:38:58 PM DEBUG    result next string=gdoc                 |      74777          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: postgres             |          7          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: template1            |          6          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: template0            |          6          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: test                 |          7          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: gdoc                 |      74777          
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Master replication state
05/22/2019 02:38:58 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 02:38:58 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -- Master replication state
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    result next string= client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 02:38:58 PM DEBUG    result next string=------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 02:38:58 PM DEBUG    result next string=10.1.131.8/32     |streaming      |156/F3E06000        |156/F3E06000        |156/F3E06000        |156/F3E05160        |        3744        
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: ------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: 10.1.131.8/32     |streaming      |156/F3E06000        |156/F3E06000        |156/F3E06000        |156/F3E05160        |        3744        
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 02:38:58 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 02:38:58 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 02:38:58 PM DEBUG    role not equals, exit
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 02:38:58 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 02:38:58 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 02:38:58 PM DEBUG    role not equals, exit
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-sm-arm04, port=5432, database=susemanager
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 02:38:58 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 02:38:58 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 02:38:58 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    result=0.9992326254426968
05/22/2019 02:38:58 PM DEBUG    resultSql = 0.9992326254426968
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: Value : 0.9992326254426968 OK
05/22/2019 02:38:58 PM DEBUG    --- one_check started: session count info
05/22/2019 02:38:58 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 02:38:58 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 02:38:58 PM DEBUG    result next string=postgres             NULL                       2
05/22/2019 02:38:58 PM DEBUG    result next string=susemanager          NULL                       20
05/22/2019 02:38:58 PM DEBUG    result next string=NULL                 NULL                       5
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: postgres             NULL                       2
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: susemanager          NULL                       20
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: NULL                 NULL                       5
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 02:38:58 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 02:38:58 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 02:38:58 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 02:38:58 PM DEBUG    result next string=postgres             |          7          
05/22/2019 02:38:58 PM DEBUG    result next string=template1            |          7          
05/22/2019 02:38:58 PM DEBUG    result next string=template0            |          7          
05/22/2019 02:38:58 PM DEBUG    result next string=susemanager          |      69113          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: postgres             |          7          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: template1            |          7          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: template0            |          7          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: susemanager          |      69113          
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Master replication state
05/22/2019 02:38:58 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 02:38:58 PM DEBUG    version not equals, exit
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 02:38:58 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 02:38:58 PM DEBUG    version not equals, exit
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 02:38:58 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 02:38:58 PM DEBUG    version not equals, exit
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01, port=5432, database=postgres
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 02:38:58 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 02:38:58 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 02:38:58 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    result=0.999997178019904
05/22/2019 02:38:58 PM DEBUG    resultSql = 0.999997178019904
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: Value : 0.999997178019904 OK
05/22/2019 02:38:58 PM DEBUG    --- one_check started: session count info
05/22/2019 02:38:58 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 02:38:58 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 02:38:58 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 02:38:58 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 02:38:58 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 02:38:58 PM DEBUG    result next string=postgres             |          7          
05/22/2019 02:38:58 PM DEBUG    result next string=template1            |          6          
05/22/2019 02:38:58 PM DEBUG    result next string=template0            |          6          
05/22/2019 02:38:58 PM DEBUG    result next string=test                 |          7          
05/22/2019 02:38:58 PM DEBUG    result next string=gdoc                 |      74777          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: postgres             |          7          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: template1            |          6          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: template0            |          6          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: test                 |          7          
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: gdoc                 |      74777          
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Master replication state
05/22/2019 02:38:58 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 02:38:58 PM DEBUG    db1.role=replic_slave check1.role=replic_master
05/22/2019 02:38:58 PM DEBUG    role not equals, exit
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 02:38:58 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 02:38:58 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -- Recovery replication status
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    result=True
05/22/2019 02:38:58 PM DEBUG    resultSql = True
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: Value : True OK
05/22/2019 02:38:58 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 02:38:58 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 02:38:58 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -- Recovery replication apply delay
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 02:38:58 PM DEBUG    result=0000-00-00 00:00:00
05/22/2019 02:38:58 PM DEBUG    resultSql = 0000-00-00 00:00:00
05/22/2019 02:38:58 PM DEBUG    WRITE TO OUT LOG: Value : 0000-00-00 00:00:00 
05/22/2019 03:05:08 PM INFO     Started
05/22/2019 03:05:08 PM INFO     out_file = c:\d\PGCheker.out
05/22/2019 03:05:08 PM INFO     out_file = c:\d\PGCheker2.out
05/22/2019 03:05:08 PM DEBUG    db ini file = db_1.ini
05/22/2019 03:05:08 PM DEBUG    hostName=srv-tnormap1-pg01
05/22/2019 03:05:08 PM DEBUG    portNumber=5432
05/22/2019 03:05:08 PM DEBUG    database=ehdapi2
05/22/2019 03:05:08 PM DEBUG    username=pgmonitor
05/22/2019 03:05:08 PM DEBUG    password=pgmonitor
05/22/2019 03:05:08 PM DEBUG    version=0
05/22/2019 03:05:08 PM DEBUG    role=unknown
05/22/2019 03:05:08 PM DEBUG    Connected!
05/22/2019 03:05:08 PM DEBUG    db ini file = db_2.ini
05/22/2019 03:05:08 PM DEBUG    hostName=srv-supdp2-pg01st
05/22/2019 03:05:08 PM DEBUG    portNumber=5432
05/22/2019 03:05:08 PM DEBUG    database=postgres
05/22/2019 03:05:08 PM DEBUG    username=pgmonitor
05/22/2019 03:05:08 PM DEBUG    password=pgmonitor
05/22/2019 03:05:08 PM DEBUG    version=9
05/22/2019 03:05:08 PM DEBUG    role=replic_master
05/22/2019 03:05:08 PM DEBUG    Connected!
05/22/2019 03:05:08 PM DEBUG    db ini file = db_3.ini
05/22/2019 03:05:08 PM DEBUG    hostName=srv-sm-arm04
05/22/2019 03:05:08 PM DEBUG    portNumber=5432
05/22/2019 03:05:08 PM DEBUG    database=susemanager
05/22/2019 03:05:08 PM DEBUG    username=pgmonitor
05/22/2019 03:05:08 PM DEBUG    password=pgmonitor
05/22/2019 03:05:08 PM DEBUG    version=0
05/22/2019 03:05:08 PM DEBUG    role=unknown
05/22/2019 03:05:08 PM DEBUG    Connected!
05/22/2019 03:05:08 PM DEBUG    db ini file = db_4.ini
05/22/2019 03:05:08 PM DEBUG    hostName=srv-supdp2-pg01
05/22/2019 03:05:08 PM DEBUG    portNumber=5432
05/22/2019 03:05:08 PM DEBUG    database=postgres
05/22/2019 03:05:08 PM DEBUG    username=pgmonitor
05/22/2019 03:05:08 PM DEBUG    password=pgmonitor
05/22/2019 03:05:08 PM DEBUG    version=9
05/22/2019 03:05:08 PM DEBUG    role=replic_slave
05/22/2019 03:05:08 PM DEBUG    Connected!
05/22/2019 03:05:08 PM DEBUG    check ini file = check_1.ini
05/22/2019 03:05:08 PM DEBUG    --------
05/22/2019 03:05:08 PM DEBUG    nameParamFile=check_1.ini
05/22/2019 03:05:08 PM DEBUG    column = ratio
05/22/2019 03:05:08 PM DEBUG    ok_min_value = 0.90
05/22/2019 03:05:08 PM DEBUG    ok_max_value = 1
05/22/2019 03:05:08 PM DEBUG    warning_min_value = 0.80
05/22/2019 03:05:08 PM DEBUG    warning_max_value = 0.90
05/22/2019 03:05:08 PM DEBUG    sqlText = SELECT
sum(heap_blks_hit) / (sum(heap_blks_hit) + sum(heap_blks_read)) as ratio
FROM
pg_statio_all_tables;
05/22/2019 03:05:08 PM DEBUG    desc = cache hit ratio
05/22/2019 03:05:08 PM DEBUG    type = check_float
05/22/2019 03:05:08 PM DEBUG    version=0
05/22/2019 03:05:08 PM DEBUG    role=unknown
05/22/2019 03:05:08 PM DEBUG    check ini file = check_2_session_cnt.ini
05/22/2019 03:05:08 PM DEBUG    --------
05/22/2019 03:05:08 PM DEBUG    nameParamFile=check_2_session_cnt.ini
05/22/2019 03:05:08 PM DEBUG    sqlText = SELECT rpad(coalesce(usename,'NULL'),20)||' '|| rpad(coalesce(state,'NULL'),25) ||'  ' ||  count(*) as RESULT
FROM  pg_stat_activity
GROUP BY usename,  state
ORDER BY usename,  state ;
05/22/2019 03:05:08 PM DEBUG    desc = session count info
05/22/2019 03:05:08 PM DEBUG    type = info
05/22/2019 03:05:08 PM DEBUG    version=0
05/22/2019 03:05:08 PM DEBUG    role=unknown
05/22/2019 03:05:08 PM DEBUG    check ini file = check_3_size.ini
05/22/2019 03:05:08 PM DEBUG    --------
05/22/2019 03:05:08 PM DEBUG    nameParamFile=check_3_size.ini
05/22/2019 03:05:08 PM DEBUG    sqlText = select rpad('database_name',20) ||' | '|| rpad('size_in_mb',20)  AS RESULT
union all
select rpad('-------------',20) ||' | '|| rpad('---------',20)  AS RESULT
union all
SELECT rpad(pg_database.datname,20)||' | '|| rpad( to_char( pg_database_size(pg_database.datname)/1024/1024,'999999999') ,20) AS RESULT
FROM pg_database;
05/22/2019 03:05:08 PM DEBUG    desc = Size of all databases
05/22/2019 03:05:08 PM DEBUG    type = info
05/22/2019 03:05:08 PM DEBUG    version=0
05/22/2019 03:05:08 PM DEBUG    role=unknown
05/22/2019 03:05:08 PM DEBUG    check ini file = check_4_replic_master_1.ini
05/22/2019 03:05:08 PM DEBUG    --------
05/22/2019 03:05:08 PM DEBUG    nameParamFile=check_4_replic_master_1.ini
05/22/2019 03:05:08 PM DEBUG    sqlText = select ' client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | ' as result
union all
select '------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| ' as result
union all
select rpad(text(client_addr),18)||'|'||
rpad(state,15)||'|'||
rpad(text(sent_location),20)||'|'||
rpad(text(write_location),20)||'|'||
rpad(text(flush_location),20)||'|'||
rpad(text(replay_location),20)||'|'||
rpad(to_char(pg_xlog_location_diff(sent_location,replay_location),'99999999999'),20)  as byte_lag
from func_stat_replication();
05/22/2019 03:05:08 PM DEBUG    desc = Master replication state
05/22/2019 03:05:08 PM DEBUG    type = info
05/22/2019 03:05:08 PM DEBUG    version=9
05/22/2019 03:05:08 PM DEBUG    role=replic_master
05/22/2019 03:05:08 PM DEBUG    check ini file = check_5_replic_slave_1.ini
05/22/2019 03:05:08 PM DEBUG    --------
05/22/2019 03:05:08 PM DEBUG    nameParamFile=check_5_replic_slave_1.ini
05/22/2019 03:05:08 PM DEBUG    column = ratio
05/22/2019 03:05:08 PM DEBUG    ok_value = True
05/22/2019 03:05:08 PM DEBUG    sqlText = Select
Cast(Case
When pg_is_in_recovery() Then 'True'
ELse 'False' END
AS Varchar(256)) as status
from pg_is_in_recovery() ;
05/22/2019 03:05:08 PM DEBUG    desc = Recovery replication status
05/22/2019 03:05:08 PM DEBUG    type = check_str
05/22/2019 03:05:08 PM DEBUG    version=9
05/22/2019 03:05:08 PM DEBUG    role=replic_slave
05/22/2019 03:05:08 PM DEBUG    check ini file = check_5_replic_slave_2.ini
05/22/2019 03:05:08 PM DEBUG    --------
05/22/2019 03:05:08 PM DEBUG    nameParamFile=check_5_replic_slave_2.ini
05/22/2019 03:05:08 PM DEBUG    column = result
05/22/2019 03:05:08 PM DEBUG    ok_value = 
05/22/2019 03:05:08 PM DEBUG    sqlText = select to_char(now()-pg_last_xact_replay_timestamp(), 'yyyy-MM-dd HH24:mm:ss') as result;
05/22/2019 03:05:08 PM DEBUG    desc = Recovery replication apply delay
05/22/2019 03:05:08 PM DEBUG    type = check_str
05/22/2019 03:05:08 PM DEBUG    version=9
05/22/2019 03:05:08 PM DEBUG    role=replic_slave
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:05:08 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:05:08 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    result=0.9999361696493303
05/22/2019 03:05:08 PM DEBUG    resultSql = 0.9999361696493303
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: Value : 0.9999361696493303 OK
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: Value : 0.9999361696493303 OK
05/22/2019 03:05:08 PM DEBUG    --- one_check started: session count info
05/22/2019 03:05:08 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:05:08 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    result next string=ehdapi2              NULL                       4
05/22/2019 03:05:08 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:05:08 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:05:08 PM DEBUG    result next string=NULL                 NULL                       4
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: ehdapi2              NULL                       4
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: postgres             NULL                       1
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: NULL                 NULL                       4
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:05:08 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:05:08 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:05:08 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:05:08 PM DEBUG    result next string=postgres             |         17          
05/22/2019 03:05:08 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:05:08 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:05:08 PM DEBUG    result next string=template_postgis     |         14          
05/22/2019 03:05:08 PM DEBUG    result next string=ehdapi2              |         19          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: postgres             |         17          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: template1            |          7          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: template0            |          7          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: template_postgis     |         14          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: ehdapi2              |         19          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:05:08 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:05:08 PM DEBUG    version not equals, exit
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:05:08 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:05:08 PM DEBUG    version not equals, exit
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:05:08 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:05:08 PM DEBUG    version not equals, exit
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01st, port=5432, database=postgres
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01st, port=5432, database=postgres
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:05:08 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:05:08 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    result=0.9931473681658607
05/22/2019 03:05:08 PM DEBUG    resultSql = 0.9931473681658607
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: Value : 0.9931473681658607 OK
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: Value : 0.9931473681658607 OK
05/22/2019 03:05:08 PM DEBUG    --- one_check started: session count info
05/22/2019 03:05:08 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:05:08 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    result next string=gdoc                 NULL                       93
05/22/2019 03:05:08 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:05:08 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:05:08 PM DEBUG    result next string=sbrazgin             NULL                       2
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: gdoc                 NULL                       93
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: postgres             NULL                       1
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: sbrazgin             NULL                       2
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:05:08 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:05:08 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:05:08 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:05:08 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:05:08 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:05:08 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:05:08 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:05:08 PM DEBUG    result next string=gdoc                 |      74785          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: postgres             |          7          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: template1            |          6          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: template0            |          6          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: test                 |          7          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: gdoc                 |      74785          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:05:08 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:05:08 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -- Master replication state
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    result next string= client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:05:08 PM DEBUG    result next string=------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:05:08 PM DEBUG    result next string=10.1.131.8/32     |streaming      |157/482000          |157/482000          |157/482000          |157/4810C0          |        3904        
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: ------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: 10.1.131.8/32     |streaming      |157/482000          |157/482000          |157/482000          |157/4810C0          |        3904        
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:05:08 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:05:08 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:05:08 PM DEBUG    role not equals, exit
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:05:08 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:05:08 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:05:08 PM DEBUG    role not equals, exit
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-sm-arm04, port=5432, database=susemanager
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-sm-arm04, port=5432, database=susemanager
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:05:08 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:05:08 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    result=0.9994054030456021
05/22/2019 03:05:08 PM DEBUG    resultSql = 0.9994054030456021
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: Value : 0.9994054030456021 OK
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: Value : 0.9994054030456021 OK
05/22/2019 03:05:08 PM DEBUG    --- one_check started: session count info
05/22/2019 03:05:08 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:05:08 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:05:08 PM DEBUG    result next string=postgres             NULL                       4
05/22/2019 03:05:08 PM DEBUG    result next string=susemanager          NULL                       21
05/22/2019 03:05:08 PM DEBUG    result next string=NULL                 NULL                       7
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: postgres             NULL                       4
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: susemanager          NULL                       21
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: NULL                 NULL                       7
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:05:08 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:05:08 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:05:08 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:05:08 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:05:08 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:05:08 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:05:08 PM DEBUG    result next string=susemanager          |      69113          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: postgres             |          7          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: template1            |          7          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: template0            |          7          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: susemanager          |      69113          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:05:08 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:05:08 PM DEBUG    version not equals, exit
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:05:08 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:05:08 PM DEBUG    version not equals, exit
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:05:08 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:05:08 PM DEBUG    version not equals, exit
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01, port=5432, database=postgres
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01, port=5432, database=postgres
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:08 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:05:08 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:05:08 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    result=0.9999971792854229
05/22/2019 03:05:08 PM DEBUG    resultSql = 0.9999971792854229
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: Value : 0.9999971792854229 OK
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: Value : 0.9999971792854229 OK
05/22/2019 03:05:08 PM DEBUG    --- one_check started: session count info
05/22/2019 03:05:08 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:05:08 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:05:08 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:05:08 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:05:08 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:05:08 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:05:08 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:05:08 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:05:08 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:05:08 PM DEBUG    result next string=gdoc                 |      74785          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: postgres             |          7          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: template1            |          6          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: template0            |          6          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: test                 |          7          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: gdoc                 |      74785          
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:05:08 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:05:08 PM DEBUG    db1.role=replic_slave check1.role=replic_master
05/22/2019 03:05:08 PM DEBUG    role not equals, exit
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:05:08 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:05:08 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -- Recovery replication status
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    result=True
05/22/2019 03:05:08 PM DEBUG    resultSql = True
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: Value : True OK
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: Value : True OK
05/22/2019 03:05:08 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:05:08 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:05:08 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -- Recovery replication apply delay
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:08 PM DEBUG    result=0000-00-00 00:00:00
05/22/2019 03:05:08 PM DEBUG    resultSql = 0000-00-00 00:00:00
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: Value : 0000-00-00 00:00:00 
05/22/2019 03:05:08 PM DEBUG    WRITE TO OUT LOG: Value : 0000-00-00 00:00:00 
05/22/2019 03:05:52 PM INFO     Started
05/22/2019 03:05:52 PM INFO     out_file = c:\d\PGCheker.out
05/22/2019 03:05:52 PM INFO     out_file = c:\d\PGCheker2.out
05/22/2019 03:05:52 PM DEBUG    db ini file = db_1.ini
05/22/2019 03:05:52 PM DEBUG    hostName=srv-tnormap1-pg01
05/22/2019 03:05:52 PM DEBUG    portNumber=5432
05/22/2019 03:05:52 PM DEBUG    database=ehdapi2
05/22/2019 03:05:52 PM DEBUG    username=pgmonitor
05/22/2019 03:05:52 PM DEBUG    password=pgmonitor
05/22/2019 03:05:52 PM DEBUG    version=0
05/22/2019 03:05:52 PM DEBUG    role=unknown
05/22/2019 03:05:52 PM DEBUG    Connected!
05/22/2019 03:05:52 PM DEBUG    db ini file = db_2.ini
05/22/2019 03:05:52 PM DEBUG    hostName=srv-supdp2-pg01st
05/22/2019 03:05:52 PM DEBUG    portNumber=5432
05/22/2019 03:05:52 PM DEBUG    database=postgres
05/22/2019 03:05:52 PM DEBUG    username=pgmonitor
05/22/2019 03:05:52 PM DEBUG    password=pgmonitor
05/22/2019 03:05:52 PM DEBUG    version=9
05/22/2019 03:05:52 PM DEBUG    role=replic_master
05/22/2019 03:05:52 PM DEBUG    Connected!
05/22/2019 03:05:52 PM DEBUG    db ini file = db_3.ini
05/22/2019 03:05:52 PM DEBUG    hostName=srv-sm-arm04
05/22/2019 03:05:52 PM DEBUG    portNumber=5432
05/22/2019 03:05:52 PM DEBUG    database=susemanager
05/22/2019 03:05:52 PM DEBUG    username=pgmonitor
05/22/2019 03:05:52 PM DEBUG    password=pgmonitor
05/22/2019 03:05:52 PM DEBUG    version=0
05/22/2019 03:05:52 PM DEBUG    role=unknown
05/22/2019 03:05:52 PM DEBUG    Connected!
05/22/2019 03:05:52 PM DEBUG    db ini file = db_4.ini
05/22/2019 03:05:52 PM DEBUG    hostName=srv-supdp2-pg01
05/22/2019 03:05:52 PM DEBUG    portNumber=5432
05/22/2019 03:05:52 PM DEBUG    database=postgres
05/22/2019 03:05:52 PM DEBUG    username=pgmonitor
05/22/2019 03:05:52 PM DEBUG    password=pgmonitor
05/22/2019 03:05:52 PM DEBUG    version=9
05/22/2019 03:05:52 PM DEBUG    role=replic_slave
05/22/2019 03:05:52 PM DEBUG    Connected!
05/22/2019 03:05:52 PM DEBUG    check ini file = check_1.ini
05/22/2019 03:05:52 PM DEBUG    --------
05/22/2019 03:05:52 PM DEBUG    nameParamFile=check_1.ini
05/22/2019 03:05:52 PM DEBUG    column = ratio
05/22/2019 03:05:52 PM DEBUG    ok_min_value = 0.90
05/22/2019 03:05:52 PM DEBUG    ok_max_value = 1
05/22/2019 03:05:52 PM DEBUG    warning_min_value = 0.80
05/22/2019 03:05:52 PM DEBUG    warning_max_value = 0.90
05/22/2019 03:05:52 PM DEBUG    sqlText = SELECT
sum(heap_blks_hit) / (sum(heap_blks_hit) + sum(heap_blks_read)) as ratio
FROM
pg_statio_all_tables;
05/22/2019 03:05:52 PM DEBUG    desc = cache hit ratio
05/22/2019 03:05:52 PM DEBUG    type = check_float
05/22/2019 03:05:52 PM DEBUG    version=0
05/22/2019 03:05:52 PM DEBUG    role=unknown
05/22/2019 03:05:52 PM DEBUG    check ini file = check_2_session_cnt.ini
05/22/2019 03:05:52 PM DEBUG    --------
05/22/2019 03:05:52 PM DEBUG    nameParamFile=check_2_session_cnt.ini
05/22/2019 03:05:52 PM DEBUG    sqlText = SELECT rpad(coalesce(usename,'NULL'),20)||' '|| rpad(coalesce(state,'NULL'),25) ||'  ' ||  count(*) as RESULT
FROM  pg_stat_activity
GROUP BY usename,  state
ORDER BY usename,  state ;
05/22/2019 03:05:52 PM DEBUG    desc = session count info
05/22/2019 03:05:52 PM DEBUG    type = info
05/22/2019 03:05:52 PM DEBUG    version=0
05/22/2019 03:05:52 PM DEBUG    role=unknown
05/22/2019 03:05:52 PM DEBUG    check ini file = check_3_size.ini
05/22/2019 03:05:52 PM DEBUG    --------
05/22/2019 03:05:52 PM DEBUG    nameParamFile=check_3_size.ini
05/22/2019 03:05:52 PM DEBUG    sqlText = select rpad('database_name',20) ||' | '|| rpad('size_in_mb',20)  AS RESULT
union all
select rpad('-------------',20) ||' | '|| rpad('---------',20)  AS RESULT
union all
SELECT rpad(pg_database.datname,20)||' | '|| rpad( to_char( pg_database_size(pg_database.datname)/1024/1024,'999999999') ,20) AS RESULT
FROM pg_database;
05/22/2019 03:05:52 PM DEBUG    desc = Size of all databases
05/22/2019 03:05:52 PM DEBUG    type = info
05/22/2019 03:05:52 PM DEBUG    version=0
05/22/2019 03:05:52 PM DEBUG    role=unknown
05/22/2019 03:05:52 PM DEBUG    check ini file = check_4_replic_master_1.ini
05/22/2019 03:05:52 PM DEBUG    --------
05/22/2019 03:05:52 PM DEBUG    nameParamFile=check_4_replic_master_1.ini
05/22/2019 03:05:52 PM DEBUG    sqlText = select ' client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | ' as result
union all
select '------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| ' as result
union all
select rpad(text(client_addr),18)||'|'||
rpad(state,15)||'|'||
rpad(text(sent_location),20)||'|'||
rpad(text(write_location),20)||'|'||
rpad(text(flush_location),20)||'|'||
rpad(text(replay_location),20)||'|'||
rpad(to_char(pg_xlog_location_diff(sent_location,replay_location),'99999999999'),20)  as byte_lag
from func_stat_replication();
05/22/2019 03:05:52 PM DEBUG    desc = Master replication state
05/22/2019 03:05:52 PM DEBUG    type = info
05/22/2019 03:05:52 PM DEBUG    version=9
05/22/2019 03:05:52 PM DEBUG    role=replic_master
05/22/2019 03:05:52 PM DEBUG    check ini file = check_5_replic_slave_1.ini
05/22/2019 03:05:52 PM DEBUG    --------
05/22/2019 03:05:52 PM DEBUG    nameParamFile=check_5_replic_slave_1.ini
05/22/2019 03:05:52 PM DEBUG    column = ratio
05/22/2019 03:05:52 PM DEBUG    ok_value = True
05/22/2019 03:05:52 PM DEBUG    sqlText = Select
Cast(Case
When pg_is_in_recovery() Then 'True'
ELse 'False' END
AS Varchar(256)) as status
from pg_is_in_recovery() ;
05/22/2019 03:05:52 PM DEBUG    desc = Recovery replication status
05/22/2019 03:05:52 PM DEBUG    type = check_str
05/22/2019 03:05:52 PM DEBUG    version=9
05/22/2019 03:05:52 PM DEBUG    role=replic_slave
05/22/2019 03:05:52 PM DEBUG    check ini file = check_5_replic_slave_2.ini
05/22/2019 03:05:52 PM DEBUG    --------
05/22/2019 03:05:52 PM DEBUG    nameParamFile=check_5_replic_slave_2.ini
05/22/2019 03:05:52 PM DEBUG    column = result
05/22/2019 03:05:52 PM DEBUG    ok_value = 
05/22/2019 03:05:52 PM DEBUG    sqlText = select to_char(now()-pg_last_xact_replay_timestamp(), 'yyyy-MM-dd HH24:mm:ss') as result;
05/22/2019 03:05:52 PM DEBUG    desc = Recovery replication apply delay
05/22/2019 03:05:52 PM DEBUG    type = check_str
05/22/2019 03:05:52 PM DEBUG    version=9
05/22/2019 03:05:52 PM DEBUG    role=replic_slave
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:05:52 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:05:52 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    result=0.9999361711509174
05/22/2019 03:05:52 PM DEBUG    resultSql = 0.9999361711509174
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: Value : 0.9999361711509174 OK
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: cache hit ratio Value : 0.9999361711509174 OK
05/22/2019 03:05:52 PM DEBUG    --- one_check started: session count info
05/22/2019 03:05:52 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:05:52 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    result next string=ehdapi2              NULL                       4
05/22/2019 03:05:52 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:05:52 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:05:52 PM DEBUG    result next string=NULL                 NULL                       4
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: ehdapi2              NULL                       4
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: postgres             NULL                       1
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: NULL                 NULL                       4
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:05:52 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:05:52 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:05:52 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:05:52 PM DEBUG    result next string=postgres             |         17          
05/22/2019 03:05:52 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:05:52 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:05:52 PM DEBUG    result next string=template_postgis     |         14          
05/22/2019 03:05:52 PM DEBUG    result next string=ehdapi2              |         19          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: postgres             |         17          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: template1            |          7          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: template0            |          7          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: template_postgis     |         14          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: ehdapi2              |         19          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:05:52 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:05:52 PM DEBUG    version not equals, exit
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:05:52 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:05:52 PM DEBUG    version not equals, exit
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:05:52 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:05:52 PM DEBUG    version not equals, exit
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01st, port=5432, database=postgres
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01st, port=5432, database=postgres
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:05:52 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:05:52 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    result=0.99314730425311
05/22/2019 03:05:52 PM DEBUG    resultSql = 0.99314730425311
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: Value : 0.99314730425311 OK
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: cache hit ratio Value : 0.99314730425311 OK
05/22/2019 03:05:52 PM DEBUG    --- one_check started: session count info
05/22/2019 03:05:52 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:05:52 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    result next string=gdoc                 NULL                       92
05/22/2019 03:05:52 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:05:52 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:05:52 PM DEBUG    result next string=sbrazgin             NULL                       2
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: gdoc                 NULL                       92
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: postgres             NULL                       1
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: sbrazgin             NULL                       2
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:05:52 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:05:52 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:05:52 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:05:52 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:05:52 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:05:52 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:05:52 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:05:52 PM DEBUG    result next string=gdoc                 |      74785          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: postgres             |          7          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: template1            |          6          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: template0            |          6          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: test                 |          7          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: gdoc                 |      74785          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:05:52 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:05:52 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -- Master replication state
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    result next string= client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:05:52 PM DEBUG    result next string=------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:05:52 PM DEBUG    result next string=10.1.131.8/32     |streaming      |157/7C70B0          |157/7C70B0          |157/7C70B0          |157/7C5198          |        7960        
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: ------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: 10.1.131.8/32     |streaming      |157/7C70B0          |157/7C70B0          |157/7C70B0          |157/7C5198          |        7960        
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:05:52 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:05:52 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:05:52 PM DEBUG    role not equals, exit
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:05:52 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:05:52 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:05:52 PM DEBUG    role not equals, exit
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-sm-arm04, port=5432, database=susemanager
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-sm-arm04, port=5432, database=susemanager
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:05:52 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:05:52 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    result=0.9994098440302385
05/22/2019 03:05:52 PM DEBUG    resultSql = 0.9994098440302385
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: Value : 0.9994098440302385 OK
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: cache hit ratio Value : 0.9994098440302385 OK
05/22/2019 03:05:52 PM DEBUG    --- one_check started: session count info
05/22/2019 03:05:52 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:05:52 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:05:52 PM DEBUG    result next string=postgres             NULL                       4
05/22/2019 03:05:52 PM DEBUG    result next string=susemanager          NULL                       21
05/22/2019 03:05:52 PM DEBUG    result next string=NULL                 NULL                       6
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: postgres             NULL                       4
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: susemanager          NULL                       21
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: NULL                 NULL                       6
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:05:52 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:05:52 PM DEBUG    db1.role=unknown check1.role=unknown
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:05:52 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:05:52 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:05:52 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:05:52 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:05:52 PM DEBUG    result next string=susemanager          |      69113          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: postgres             |          7          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: template1            |          7          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: template0            |          7          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: susemanager          |      69113          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:05:52 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:05:52 PM DEBUG    version not equals, exit
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:05:52 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:05:52 PM DEBUG    version not equals, exit
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:05:52 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:05:52 PM DEBUG    version not equals, exit
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01, port=5432, database=postgres
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01, port=5432, database=postgres
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:05:52 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:05:52 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:05:52 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    result=0.999997179328623
05/22/2019 03:05:52 PM DEBUG    resultSql = 0.999997179328623
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: Value : 0.999997179328623 OK
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: cache hit ratio Value : 0.999997179328623 OK
05/22/2019 03:05:52 PM DEBUG    --- one_check started: session count info
05/22/2019 03:05:52 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:05:52 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:05:52 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:05:52 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:05:52 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:05:52 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:05:52 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:05:52 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:05:52 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:05:52 PM DEBUG    result next string=gdoc                 |      74785          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: postgres             |          7          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: template1            |          6          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: template0            |          6          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: test                 |          7          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: gdoc                 |      74785          
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:05:52 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:05:52 PM DEBUG    db1.role=replic_slave check1.role=replic_master
05/22/2019 03:05:52 PM DEBUG    role not equals, exit
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:05:52 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:05:52 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -- Recovery replication status
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    result=True
05/22/2019 03:05:52 PM DEBUG    resultSql = True
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: Value : True OK
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: Recovery replication status Value : True OK
05/22/2019 03:05:52 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:05:52 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:05:52 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -- Recovery replication apply delay
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:05:52 PM DEBUG    result=0000-00-00 00:00:00
05/22/2019 03:05:52 PM DEBUG    resultSql = 0000-00-00 00:00:00
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: Value : 0000-00-00 00:00:00 
05/22/2019 03:05:52 PM DEBUG    WRITE TO OUT LOG: Recovery replication apply delay Value : 0000-00-00 00:00:00 
05/22/2019 03:20:14 PM INFO     Started
05/22/2019 03:20:14 PM INFO     out_file = c:\d\PGCheker.out
05/22/2019 03:20:14 PM INFO     out_file = c:\d\PGCheker2.out
05/22/2019 03:20:14 PM DEBUG    db ini file = db_1.ini
05/22/2019 03:20:14 PM DEBUG    hostName=srv-tnormap1-pg01
05/22/2019 03:20:14 PM DEBUG    portNumber=5432
05/22/2019 03:20:14 PM DEBUG    database=ehdapi2
05/22/2019 03:20:14 PM DEBUG    username=pgmonitor
05/22/2019 03:20:14 PM DEBUG    password=pgmonitor
05/22/2019 03:20:14 PM DEBUG    version=0
05/22/2019 03:20:14 PM DEBUG    role=standalone
05/22/2019 03:20:14 PM DEBUG    Connected!
05/22/2019 03:20:14 PM DEBUG    db ini file = db_2.ini
05/22/2019 03:20:14 PM DEBUG    hostName=srv-supdp2-pg01st
05/22/2019 03:20:14 PM DEBUG    portNumber=5432
05/22/2019 03:20:14 PM DEBUG    database=postgres
05/22/2019 03:20:14 PM DEBUG    username=pgmonitor
05/22/2019 03:20:14 PM DEBUG    password=pgmonitor
05/22/2019 03:20:14 PM DEBUG    version=9
05/22/2019 03:20:14 PM DEBUG    role=replic_master
05/22/2019 03:20:14 PM DEBUG    Connected!
05/22/2019 03:20:14 PM DEBUG    db ini file = db_3.ini
05/22/2019 03:20:14 PM DEBUG    hostName=srv-sm-arm04
05/22/2019 03:20:14 PM DEBUG    portNumber=5432
05/22/2019 03:20:14 PM DEBUG    database=susemanager
05/22/2019 03:20:14 PM DEBUG    username=pgmonitor
05/22/2019 03:20:14 PM DEBUG    password=pgmonitor
05/22/2019 03:20:14 PM DEBUG    version=0
05/22/2019 03:20:14 PM DEBUG    role=standalone
05/22/2019 03:20:14 PM DEBUG    Connected!
05/22/2019 03:20:14 PM DEBUG    db ini file = db_4.ini
05/22/2019 03:20:14 PM DEBUG    hostName=srv-supdp2-pg01
05/22/2019 03:20:14 PM DEBUG    portNumber=5432
05/22/2019 03:20:14 PM DEBUG    database=postgres
05/22/2019 03:20:14 PM DEBUG    username=pgmonitor
05/22/2019 03:20:14 PM DEBUG    password=pgmonitor
05/22/2019 03:20:14 PM DEBUG    version=9
05/22/2019 03:20:14 PM DEBUG    role=replic_slave
05/22/2019 03:20:14 PM DEBUG    Connected!
05/22/2019 03:20:14 PM DEBUG    check ini file = check_1.ini
05/22/2019 03:20:14 PM DEBUG    --------
05/22/2019 03:20:14 PM DEBUG    nameParamFile=check_1.ini
05/22/2019 03:20:14 PM DEBUG    column = ratio
05/22/2019 03:20:14 PM DEBUG    ok_min_value = 0.90
05/22/2019 03:20:14 PM DEBUG    ok_max_value = 1
05/22/2019 03:20:14 PM DEBUG    warning_min_value = 0.80
05/22/2019 03:20:14 PM DEBUG    warning_max_value = 0.90
05/22/2019 03:20:14 PM DEBUG    sqlText = SELECT
sum(heap_blks_hit) / (sum(heap_blks_hit) + sum(heap_blks_read)) as ratio
FROM
pg_statio_all_tables;
05/22/2019 03:20:14 PM DEBUG    desc = cache hit ratio
05/22/2019 03:20:14 PM DEBUG    type = check_float
05/22/2019 03:20:14 PM DEBUG    version=0
05/22/2019 03:20:14 PM DEBUG    role=unknown
05/22/2019 03:20:14 PM DEBUG    check ini file = check_2_session_cnt.ini
05/22/2019 03:20:14 PM DEBUG    --------
05/22/2019 03:20:14 PM DEBUG    nameParamFile=check_2_session_cnt.ini
05/22/2019 03:20:14 PM DEBUG    sqlText = SELECT rpad(coalesce(usename,'NULL'),20)||' '|| rpad(coalesce(state,'NULL'),25) ||'  ' ||  count(*) as RESULT
FROM  pg_stat_activity
GROUP BY usename,  state
ORDER BY usename,  state ;
05/22/2019 03:20:14 PM DEBUG    desc = session count info
05/22/2019 03:20:14 PM DEBUG    type = info
05/22/2019 03:20:14 PM DEBUG    version=0
05/22/2019 03:20:14 PM DEBUG    role=unknown
05/22/2019 03:20:14 PM DEBUG    check ini file = check_3_size.ini
05/22/2019 03:20:14 PM DEBUG    --------
05/22/2019 03:20:14 PM DEBUG    nameParamFile=check_3_size.ini
05/22/2019 03:20:14 PM DEBUG    sqlText = select rpad('database_name',20) ||' | '|| rpad('size_in_mb',20)  AS RESULT
union all
select rpad('-------------',20) ||' | '|| rpad('---------',20)  AS RESULT
union all
SELECT rpad(pg_database.datname,20)||' | '|| rpad( to_char( pg_database_size(pg_database.datname)/1024/1024,'999999999') ,20) AS RESULT
FROM pg_database;
05/22/2019 03:20:14 PM DEBUG    desc = Size of all databases
05/22/2019 03:20:14 PM DEBUG    type = info
05/22/2019 03:20:14 PM DEBUG    version=0
05/22/2019 03:20:14 PM DEBUG    role=unknown
05/22/2019 03:20:14 PM DEBUG    check ini file = check_4_replic_master_1.ini
05/22/2019 03:20:14 PM DEBUG    --------
05/22/2019 03:20:14 PM DEBUG    nameParamFile=check_4_replic_master_1.ini
05/22/2019 03:20:14 PM DEBUG    sqlText = select ' client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | ' as result
union all
select '------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| ' as result
union all
select rpad(text(client_addr),18)||'|'||
rpad(state,15)||'|'||
rpad(text(sent_location),20)||'|'||
rpad(text(write_location),20)||'|'||
rpad(text(flush_location),20)||'|'||
rpad(text(replay_location),20)||'|'||
rpad(to_char(pg_xlog_location_diff(sent_location,replay_location),'99999999999'),20)  as byte_lag
from func_stat_replication();
05/22/2019 03:20:14 PM DEBUG    desc = Master replication state
05/22/2019 03:20:14 PM DEBUG    type = info
05/22/2019 03:20:14 PM DEBUG    version=9
05/22/2019 03:20:14 PM DEBUG    role=replic_master
05/22/2019 03:20:14 PM DEBUG    check ini file = check_5_replic_slave_1.ini
05/22/2019 03:20:14 PM DEBUG    --------
05/22/2019 03:20:14 PM DEBUG    nameParamFile=check_5_replic_slave_1.ini
05/22/2019 03:20:14 PM DEBUG    column = ratio
05/22/2019 03:20:14 PM DEBUG    ok_value = True
05/22/2019 03:20:14 PM DEBUG    sqlText = Select
Cast(Case
When pg_is_in_recovery() Then 'True'
ELse 'False' END
AS Varchar(256)) as status
from pg_is_in_recovery() ;
05/22/2019 03:20:14 PM DEBUG    desc = Recovery replication status
05/22/2019 03:20:14 PM DEBUG    type = check_str
05/22/2019 03:20:14 PM DEBUG    version=9
05/22/2019 03:20:14 PM DEBUG    role=replic_slave
05/22/2019 03:20:14 PM DEBUG    check ini file = check_5_replic_slave_2.ini
05/22/2019 03:20:14 PM DEBUG    --------
05/22/2019 03:20:14 PM DEBUG    nameParamFile=check_5_replic_slave_2.ini
05/22/2019 03:20:14 PM DEBUG    column = result
05/22/2019 03:20:14 PM DEBUG    ok_value = 
05/22/2019 03:20:14 PM DEBUG    sqlText = select to_char(now()-pg_last_xact_replay_timestamp(), 'yyyy-MM-dd HH24:mm:ss') as result;
05/22/2019 03:20:14 PM DEBUG    desc = Recovery replication apply delay
05/22/2019 03:20:14 PM DEBUG    type = check_str
05/22/2019 03:20:14 PM DEBUG    version=9
05/22/2019 03:20:14 PM DEBUG    role=replic_slave
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:14 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:20:14 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:20:14 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:20:14 PM DEBUG    role not equals, exit
05/22/2019 03:20:14 PM DEBUG    --- one_check started: session count info
05/22/2019 03:20:14 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:20:14 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:20:14 PM DEBUG    role not equals, exit
05/22/2019 03:20:14 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:20:14 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:20:14 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:20:14 PM DEBUG    role not equals, exit
05/22/2019 03:20:14 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:20:14 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:20:14 PM DEBUG    version not equals, exit
05/22/2019 03:20:14 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:20:14 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:20:14 PM DEBUG    version not equals, exit
05/22/2019 03:20:14 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:20:14 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:20:14 PM DEBUG    version not equals, exit
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:14 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:20:14 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:20:14 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:20:14 PM DEBUG    role not equals, exit
05/22/2019 03:20:14 PM DEBUG    --- one_check started: session count info
05/22/2019 03:20:14 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:20:14 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:20:14 PM DEBUG    role not equals, exit
05/22/2019 03:20:14 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:20:14 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:20:14 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:20:14 PM DEBUG    role not equals, exit
05/22/2019 03:20:14 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:20:14 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:20:14 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG: -- Master replication state
05/22/2019 03:20:14 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:20:15 PM DEBUG    result next string= client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:20:15 PM DEBUG    result next string=------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:20:15 PM DEBUG    result next string=10.1.131.8/32     |streaming      |157/67D7D00         |157/67D7D00         |157/67D7D00         |157/67D4E38         |       11976        
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG:  client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: ------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: 10.1.131.8/32     |streaming      |157/67D7D00         |157/67D7D00         |157/67D7D00         |157/67D4E38         |       11976        
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:20:15 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:20:15 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:20:15 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:20:15 PM DEBUG    role not equals, exit
05/22/2019 03:20:15 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:20:15 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:20:15 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:20:15 PM DEBUG    role not equals, exit
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-sm-arm04, port=5432, database=susemanager, role=standalone
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-sm-arm04, port=5432, database=susemanager, role=standalone
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:15 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:20:15 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:20:15 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:20:15 PM DEBUG    role not equals, exit
05/22/2019 03:20:15 PM DEBUG    --- one_check started: session count info
05/22/2019 03:20:15 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:20:15 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:20:15 PM DEBUG    role not equals, exit
05/22/2019 03:20:15 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:20:15 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:20:15 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:20:15 PM DEBUG    role not equals, exit
05/22/2019 03:20:15 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:20:15 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:20:15 PM DEBUG    version not equals, exit
05/22/2019 03:20:15 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:20:15 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:20:15 PM DEBUG    version not equals, exit
05/22/2019 03:20:15 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:20:15 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:20:15 PM DEBUG    version not equals, exit
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01, port=5432, database=postgres, role=replic_slave
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01, port=5432, database=postgres, role=replic_slave
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:20:15 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:20:15 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:20:15 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:20:15 PM DEBUG    role not equals, exit
05/22/2019 03:20:15 PM DEBUG    --- one_check started: session count info
05/22/2019 03:20:15 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:20:15 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:20:15 PM DEBUG    role not equals, exit
05/22/2019 03:20:15 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:20:15 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:20:15 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:20:15 PM DEBUG    role not equals, exit
05/22/2019 03:20:15 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:20:15 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:20:15 PM DEBUG    db1.role=replic_slave check1.role=replic_master
05/22/2019 03:20:15 PM DEBUG    role not equals, exit
05/22/2019 03:20:15 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:20:15 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:20:15 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: -- Recovery replication status
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:20:15 PM DEBUG    result=True
05/22/2019 03:20:15 PM DEBUG    resultSql = True
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: Value : True OK
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: Recovery replication status Value : True OK
05/22/2019 03:20:15 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:20:15 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:20:15 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: -- Recovery replication apply delay
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:20:15 PM DEBUG    result=0000-00-00 00:00:01
05/22/2019 03:20:15 PM DEBUG    resultSql = 0000-00-00 00:00:01
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: Value : 0000-00-00 00:00:01 
05/22/2019 03:20:15 PM DEBUG    WRITE TO OUT LOG: Recovery replication apply delay Value : 0000-00-00 00:00:01 
05/22/2019 03:24:03 PM INFO     Started
05/22/2019 03:24:03 PM INFO     out_file = c:\d\PGCheker.out
05/22/2019 03:24:03 PM INFO     out_file = c:\d\PGCheker2.out
05/22/2019 03:24:03 PM DEBUG    db ini file = db_1.ini
05/22/2019 03:24:03 PM DEBUG    hostName=srv-tnormap1-pg01
05/22/2019 03:24:03 PM DEBUG    portNumber=5432
05/22/2019 03:24:03 PM DEBUG    database=ehdapi2
05/22/2019 03:24:03 PM DEBUG    username=pgmonitor
05/22/2019 03:24:03 PM DEBUG    password=pgmonitor
05/22/2019 03:24:03 PM DEBUG    version=0
05/22/2019 03:24:03 PM DEBUG    role=standalone
05/22/2019 03:24:03 PM DEBUG    Connected!
05/22/2019 03:24:03 PM DEBUG    db ini file = db_2.ini
05/22/2019 03:24:03 PM DEBUG    hostName=srv-supdp2-pg01st
05/22/2019 03:24:03 PM DEBUG    portNumber=5432
05/22/2019 03:24:03 PM DEBUG    database=postgres
05/22/2019 03:24:03 PM DEBUG    username=pgmonitor
05/22/2019 03:24:03 PM DEBUG    password=pgmonitor
05/22/2019 03:24:03 PM DEBUG    version=9
05/22/2019 03:24:03 PM DEBUG    role=replic_master
05/22/2019 03:24:03 PM DEBUG    Connected!
05/22/2019 03:24:03 PM DEBUG    db ini file = db_3.ini
05/22/2019 03:24:03 PM DEBUG    hostName=srv-sm-arm04
05/22/2019 03:24:03 PM DEBUG    portNumber=5432
05/22/2019 03:24:03 PM DEBUG    database=susemanager
05/22/2019 03:24:03 PM DEBUG    username=pgmonitor
05/22/2019 03:24:03 PM DEBUG    password=pgmonitor
05/22/2019 03:24:03 PM DEBUG    version=0
05/22/2019 03:24:03 PM DEBUG    role=standalone
05/22/2019 03:24:03 PM DEBUG    Connected!
05/22/2019 03:24:03 PM DEBUG    db ini file = db_4.ini
05/22/2019 03:24:03 PM DEBUG    hostName=srv-supdp2-pg01
05/22/2019 03:24:03 PM DEBUG    portNumber=5432
05/22/2019 03:24:03 PM DEBUG    database=postgres
05/22/2019 03:24:03 PM DEBUG    username=pgmonitor
05/22/2019 03:24:03 PM DEBUG    password=pgmonitor
05/22/2019 03:24:03 PM DEBUG    version=9
05/22/2019 03:24:03 PM DEBUG    role=replic_slave
05/22/2019 03:24:03 PM DEBUG    Connected!
05/22/2019 03:24:03 PM DEBUG    check ini file = check_1.ini
05/22/2019 03:24:03 PM DEBUG    --------
05/22/2019 03:24:03 PM DEBUG    nameParamFile=check_1.ini
05/22/2019 03:24:03 PM DEBUG    column = ratio
05/22/2019 03:24:03 PM DEBUG    ok_min_value = 0.90
05/22/2019 03:24:03 PM DEBUG    ok_max_value = 1
05/22/2019 03:24:03 PM DEBUG    warning_min_value = 0.80
05/22/2019 03:24:03 PM DEBUG    warning_max_value = 0.90
05/22/2019 03:24:03 PM DEBUG    sqlText = SELECT
sum(heap_blks_hit) / (sum(heap_blks_hit) + sum(heap_blks_read)) as ratio
FROM
pg_statio_all_tables;
05/22/2019 03:24:03 PM DEBUG    desc = cache hit ratio
05/22/2019 03:24:03 PM DEBUG    type = check_float
05/22/2019 03:24:03 PM DEBUG    version=0
05/22/2019 03:24:03 PM DEBUG    role=unknown
05/22/2019 03:24:03 PM DEBUG    check ini file = check_2_session_cnt.ini
05/22/2019 03:24:03 PM DEBUG    --------
05/22/2019 03:24:03 PM DEBUG    nameParamFile=check_2_session_cnt.ini
05/22/2019 03:24:03 PM DEBUG    sqlText = SELECT rpad(coalesce(usename,'NULL'),20)||' '|| rpad(coalesce(state,'NULL'),25) ||'  ' ||  count(*) as RESULT
FROM  pg_stat_activity
GROUP BY usename,  state
ORDER BY usename,  state ;
05/22/2019 03:24:03 PM DEBUG    desc = session count info
05/22/2019 03:24:03 PM DEBUG    type = info
05/22/2019 03:24:03 PM DEBUG    version=0
05/22/2019 03:24:03 PM DEBUG    role=unknown
05/22/2019 03:24:03 PM DEBUG    check ini file = check_3_size.ini
05/22/2019 03:24:03 PM DEBUG    --------
05/22/2019 03:24:03 PM DEBUG    nameParamFile=check_3_size.ini
05/22/2019 03:24:03 PM DEBUG    sqlText = select rpad('database_name',20) ||' | '|| rpad('size_in_mb',20)  AS RESULT
union all
select rpad('-------------',20) ||' | '|| rpad('---------',20)  AS RESULT
union all
SELECT rpad(pg_database.datname,20)||' | '|| rpad( to_char( pg_database_size(pg_database.datname)/1024/1024,'999999999') ,20) AS RESULT
FROM pg_database;
05/22/2019 03:24:03 PM DEBUG    desc = Size of all databases
05/22/2019 03:24:03 PM DEBUG    type = info
05/22/2019 03:24:03 PM DEBUG    version=0
05/22/2019 03:24:03 PM DEBUG    role=unknown
05/22/2019 03:24:03 PM DEBUG    check ini file = check_4_replic_master_1.ini
05/22/2019 03:24:03 PM DEBUG    --------
05/22/2019 03:24:03 PM DEBUG    nameParamFile=check_4_replic_master_1.ini
05/22/2019 03:24:03 PM DEBUG    sqlText = select ' client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | ' as result
union all
select '------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| ' as result
union all
select rpad(text(client_addr),18)||'|'||
rpad(state,15)||'|'||
rpad(text(sent_location),20)||'|'||
rpad(text(write_location),20)||'|'||
rpad(text(flush_location),20)||'|'||
rpad(text(replay_location),20)||'|'||
rpad(to_char(pg_xlog_location_diff(sent_location,replay_location),'99999999999'),20)  as byte_lag
from func_stat_replication();
05/22/2019 03:24:03 PM DEBUG    desc = Master replication state
05/22/2019 03:24:03 PM DEBUG    type = info
05/22/2019 03:24:03 PM DEBUG    version=9
05/22/2019 03:24:03 PM DEBUG    role=replic_master
05/22/2019 03:24:03 PM DEBUG    check ini file = check_5_replic_slave_1.ini
05/22/2019 03:24:03 PM DEBUG    --------
05/22/2019 03:24:03 PM DEBUG    nameParamFile=check_5_replic_slave_1.ini
05/22/2019 03:24:03 PM DEBUG    column = ratio
05/22/2019 03:24:03 PM DEBUG    ok_value = True
05/22/2019 03:24:03 PM DEBUG    sqlText = Select
Cast(Case
When pg_is_in_recovery() Then 'True'
ELse 'False' END
AS Varchar(256)) as status
from pg_is_in_recovery() ;
05/22/2019 03:24:03 PM DEBUG    desc = Recovery replication status
05/22/2019 03:24:03 PM DEBUG    type = check_str
05/22/2019 03:24:03 PM DEBUG    version=9
05/22/2019 03:24:03 PM DEBUG    role=replic_slave
05/22/2019 03:24:03 PM DEBUG    check ini file = check_5_replic_slave_2.ini
05/22/2019 03:24:03 PM DEBUG    --------
05/22/2019 03:24:03 PM DEBUG    nameParamFile=check_5_replic_slave_2.ini
05/22/2019 03:24:03 PM DEBUG    column = result
05/22/2019 03:24:03 PM DEBUG    ok_value = 
05/22/2019 03:24:03 PM DEBUG    sqlText = select to_char(now()-pg_last_xact_replay_timestamp(), 'yyyy-MM-dd HH24:mm:ss') as result;
05/22/2019 03:24:03 PM DEBUG    desc = Recovery replication apply delay
05/22/2019 03:24:03 PM DEBUG    type = check_str
05/22/2019 03:24:03 PM DEBUG    version=9
05/22/2019 03:24:03 PM DEBUG    role=replic_slave
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:03 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:24:03 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:24:03 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    result=0.9999361789633457
05/22/2019 03:24:03 PM DEBUG    resultSql = 0.9999361789633457
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: Value : 0.9999361789633457 OK
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: cache hit ratio Value : 0.9999361789633457 OK
05/22/2019 03:24:03 PM DEBUG    --- one_check started: session count info
05/22/2019 03:24:03 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:24:03 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    result next string=ehdapi2              NULL                       4
05/22/2019 03:24:03 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:24:03 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:24:03 PM DEBUG    result next string=NULL                 NULL                       4
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: ehdapi2              NULL                       4
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: postgres             NULL                       1
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: NULL                 NULL                       4
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:24:03 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:24:03 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:24:03 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:24:03 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:24:03 PM DEBUG    result next string=postgres             |         17          
05/22/2019 03:24:03 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:24:03 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:24:03 PM DEBUG    result next string=template_postgis     |         14          
05/22/2019 03:24:03 PM DEBUG    result next string=ehdapi2              |         19          
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: postgres             |         17          
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: template1            |          7          
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: template0            |          7          
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: template_postgis     |         14          
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: ehdapi2              |         19          
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:24:03 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:24:03 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:24:03 PM DEBUG    version not equals, exit
05/22/2019 03:24:03 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:24:03 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:24:03 PM DEBUG    version not equals, exit
05/22/2019 03:24:03 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:24:03 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:24:03 PM DEBUG    version not equals, exit
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:03 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:24:03 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:24:03 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    result=0.9931457869811838
05/22/2019 03:24:03 PM DEBUG    resultSql = 0.9931457869811838
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: Value : 0.9931457869811838 OK
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: cache hit ratio Value : 0.9931457869811838 OK
05/22/2019 03:24:03 PM DEBUG    --- one_check started: session count info
05/22/2019 03:24:03 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:24:03 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    result next string=gdoc                 NULL                       105
05/22/2019 03:24:03 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:24:03 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:24:03 PM DEBUG    result next string=sbrazgin             NULL                       2
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: gdoc                 NULL                       105
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: postgres             NULL                       1
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: sbrazgin             NULL                       2
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:24:03 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:24:03 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:24:03 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:24:03 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:24:03 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:24:03 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:24:03 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:24:03 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:24:03 PM DEBUG    result next string=gdoc                 |      74789          
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: postgres             |          7          
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: template1            |          6          
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: template0            |          6          
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: test                 |          7          
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: gdoc                 |      74789          
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:24:03 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:24:03 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:24:03 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -- Master replication state
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    result next string= client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:24:03 PM DEBUG    result next string=------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:24:03 PM DEBUG    result next string=10.1.131.8/32     |streaming      |157/7D5C000         |157/7D5C000         |157/7D5C000         |157/7D5AB40         |        5312        
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: ------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: 10.1.131.8/32     |streaming      |157/7D5C000         |157/7D5C000         |157/7D5C000         |157/7D5AB40         |        5312        
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:24:03 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:24:03 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:24:03 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:24:03 PM DEBUG    role not equals, exit
05/22/2019 03:24:03 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:24:03 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:24:03 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:24:03 PM DEBUG    role not equals, exit
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-sm-arm04, port=5432, database=susemanager, role=standalone
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-sm-arm04, port=5432, database=susemanager, role=standalone
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:03 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:24:03 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:24:03 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    result=0.9990277140697504
05/22/2019 03:24:03 PM DEBUG    resultSql = 0.9990277140697504
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: Value : 0.9990277140697504 OK
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: cache hit ratio Value : 0.9990277140697504 OK
05/22/2019 03:24:03 PM DEBUG    --- one_check started: session count info
05/22/2019 03:24:03 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:24:03 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:24:03 PM DEBUG    result next string=postgres             NULL                       4
05/22/2019 03:24:03 PM DEBUG    result next string=susemanager          NULL                       31
05/22/2019 03:24:03 PM DEBUG    result next string=NULL                 NULL                       6
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: postgres             NULL                       4
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: susemanager          NULL                       31
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: NULL                 NULL                       6
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:24:03 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:24:03 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:24:03 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 03:24:03 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:04 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:24:04 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:24:04 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:24:04 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:24:04 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:24:04 PM DEBUG    result next string=susemanager          |      69110          
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: postgres             |          7          
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: template1            |          7          
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: template0            |          7          
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: susemanager          |      69110          
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:24:04 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:24:04 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:24:04 PM DEBUG    version not equals, exit
05/22/2019 03:24:04 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:24:04 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:24:04 PM DEBUG    version not equals, exit
05/22/2019 03:24:04 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:24:04 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:24:04 PM DEBUG    version not equals, exit
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01, port=5432, database=postgres, role=replic_slave
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: == Database: host=srv-supdp2-pg01, port=5432, database=postgres, role=replic_slave
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: =====================================================================================
05/22/2019 03:24:04 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:24:04 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:24:04 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -- cache hit ratio
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:04 PM DEBUG    result=0.9999971802096995
05/22/2019 03:24:04 PM DEBUG    resultSql = 0.9999971802096995
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: Value : 0.9999971802096995 OK
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: cache hit ratio Value : 0.9999971802096995 OK
05/22/2019 03:24:04 PM DEBUG    --- one_check started: session count info
05/22/2019 03:24:04 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:24:04 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -- session count info
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:04 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: pgmonitor            active                     1
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:24:04 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:24:04 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:24:04 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -- Size of all databases
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:04 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:24:04 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:24:04 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:24:04 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:24:04 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:24:04 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:24:04 PM DEBUG    result next string=gdoc                 |      74789          
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: database_name        | size_in_mb          
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -------------        | ---------           
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: postgres             |          7          
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: template1            |          6          
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: template0            |          6          
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: test                 |          7          
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: gdoc                 |      74789          
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: 
05/22/2019 03:24:04 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:24:04 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:24:04 PM DEBUG    db1.role=replic_slave check1.role=replic_master
05/22/2019 03:24:04 PM DEBUG    role not equals, exit
05/22/2019 03:24:04 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:24:04 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:24:04 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -- Recovery replication status
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:04 PM DEBUG    result=True
05/22/2019 03:24:04 PM DEBUG    resultSql = True
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: Value : True OK
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: Recovery replication status Value : True OK
05/22/2019 03:24:04 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:24:04 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:24:04 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG:  
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -- Recovery replication apply delay
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: -------------------------------------------------------
05/22/2019 03:24:04 PM DEBUG    result=0000-00-00 00:00:00
05/22/2019 03:24:04 PM DEBUG    resultSql = 0000-00-00 00:00:00
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: Value : 0000-00-00 00:00:00 
05/22/2019 03:24:04 PM DEBUG    WRITE TO OUT LOG: Recovery replication apply delay Value : 0000-00-00 00:00:00 
05/22/2019 03:30:58 PM INFO     Started
05/22/2019 03:30:58 PM INFO     TEXT_SAVE [full] started, out_file = c:\d\PGCheker.out
05/22/2019 03:30:58 PM INFO     TEXT_SAVE [short] started, out_file = c:\d\PGCheker2.out
05/22/2019 03:30:58 PM DEBUG    db ini file = db_1.ini
05/22/2019 03:30:58 PM DEBUG    hostName=srv-tnormap1-pg01
05/22/2019 03:30:58 PM DEBUG    portNumber=5432
05/22/2019 03:30:58 PM DEBUG    database=ehdapi2
05/22/2019 03:30:58 PM DEBUG    username=pgmonitor
05/22/2019 03:30:58 PM DEBUG    password=pgmonitor
05/22/2019 03:30:58 PM DEBUG    version=0
05/22/2019 03:30:58 PM DEBUG    role=standalone
05/22/2019 03:30:58 PM DEBUG    Connected!
05/22/2019 03:30:58 PM DEBUG    db ini file = db_2.ini
05/22/2019 03:30:58 PM DEBUG    hostName=srv-supdp2-pg01st
05/22/2019 03:30:58 PM DEBUG    portNumber=5432
05/22/2019 03:30:58 PM DEBUG    database=postgres
05/22/2019 03:30:58 PM DEBUG    username=pgmonitor
05/22/2019 03:30:58 PM DEBUG    password=pgmonitor
05/22/2019 03:30:58 PM DEBUG    version=9
05/22/2019 03:30:58 PM DEBUG    role=replic_master
05/22/2019 03:30:58 PM DEBUG    Connected!
05/22/2019 03:30:58 PM DEBUG    db ini file = db_3.ini
05/22/2019 03:30:58 PM DEBUG    hostName=srv-sm-arm04
05/22/2019 03:30:58 PM DEBUG    portNumber=5432
05/22/2019 03:30:58 PM DEBUG    database=susemanager
05/22/2019 03:30:58 PM DEBUG    username=pgmonitor
05/22/2019 03:30:58 PM DEBUG    password=pgmonitor
05/22/2019 03:30:58 PM DEBUG    version=0
05/22/2019 03:30:58 PM DEBUG    role=standalone
05/22/2019 03:30:59 PM DEBUG    Connected!
05/22/2019 03:30:59 PM DEBUG    db ini file = db_4.ini
05/22/2019 03:30:59 PM DEBUG    hostName=srv-supdp2-pg01
05/22/2019 03:30:59 PM DEBUG    portNumber=5432
05/22/2019 03:30:59 PM DEBUG    database=postgres
05/22/2019 03:30:59 PM DEBUG    username=pgmonitor
05/22/2019 03:30:59 PM DEBUG    password=pgmonitor
05/22/2019 03:30:59 PM DEBUG    version=9
05/22/2019 03:30:59 PM DEBUG    role=replic_slave
05/22/2019 03:30:59 PM DEBUG    Connected!
05/22/2019 03:30:59 PM DEBUG    check ini file = check_1.ini
05/22/2019 03:30:59 PM DEBUG    --------
05/22/2019 03:30:59 PM DEBUG    nameParamFile=check_1.ini
05/22/2019 03:30:59 PM DEBUG    column = ratio
05/22/2019 03:30:59 PM DEBUG    ok_min_value = 0.90
05/22/2019 03:30:59 PM DEBUG    ok_max_value = 1
05/22/2019 03:30:59 PM DEBUG    warning_min_value = 0.80
05/22/2019 03:30:59 PM DEBUG    warning_max_value = 0.90
05/22/2019 03:30:59 PM DEBUG    sqlText = SELECT
sum(heap_blks_hit) / (sum(heap_blks_hit) + sum(heap_blks_read)) as ratio
FROM
pg_statio_all_tables;
05/22/2019 03:30:59 PM DEBUG    desc = cache hit ratio
05/22/2019 03:30:59 PM DEBUG    type = check_float
05/22/2019 03:30:59 PM DEBUG    version=0
05/22/2019 03:30:59 PM DEBUG    role=unknown
05/22/2019 03:30:59 PM DEBUG    check ini file = check_2_session_cnt.ini
05/22/2019 03:30:59 PM DEBUG    --------
05/22/2019 03:30:59 PM DEBUG    nameParamFile=check_2_session_cnt.ini
05/22/2019 03:30:59 PM DEBUG    sqlText = SELECT rpad(coalesce(usename,'NULL'),20)||' '|| rpad(coalesce(state,'NULL'),25) ||'  ' ||  count(*) as RESULT
FROM  pg_stat_activity
GROUP BY usename,  state
ORDER BY usename,  state ;
05/22/2019 03:30:59 PM DEBUG    desc = session count info
05/22/2019 03:30:59 PM DEBUG    type = info
05/22/2019 03:30:59 PM DEBUG    version=0
05/22/2019 03:30:59 PM DEBUG    role=unknown
05/22/2019 03:30:59 PM DEBUG    check ini file = check_3_size.ini
05/22/2019 03:30:59 PM DEBUG    --------
05/22/2019 03:30:59 PM DEBUG    nameParamFile=check_3_size.ini
05/22/2019 03:30:59 PM DEBUG    sqlText = select rpad('database_name',20) ||' | '|| rpad('size_in_mb',20)  AS RESULT
union all
select rpad('-------------',20) ||' | '|| rpad('---------',20)  AS RESULT
union all
SELECT rpad(pg_database.datname,20)||' | '|| rpad( to_char( pg_database_size(pg_database.datname)/1024/1024,'999999999') ,20) AS RESULT
FROM pg_database;
05/22/2019 03:30:59 PM DEBUG    desc = Size of all databases
05/22/2019 03:30:59 PM DEBUG    type = info
05/22/2019 03:30:59 PM DEBUG    version=0
05/22/2019 03:30:59 PM DEBUG    role=unknown
05/22/2019 03:30:59 PM DEBUG    check ini file = check_4_replic_master_1.ini
05/22/2019 03:30:59 PM DEBUG    --------
05/22/2019 03:30:59 PM DEBUG    nameParamFile=check_4_replic_master_1.ini
05/22/2019 03:30:59 PM DEBUG    sqlText = select ' client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | ' as result
union all
select '------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| ' as result
union all
select rpad(text(client_addr),18)||'|'||
rpad(state,15)||'|'||
rpad(text(sent_location),20)||'|'||
rpad(text(write_location),20)||'|'||
rpad(text(flush_location),20)||'|'||
rpad(text(replay_location),20)||'|'||
rpad(to_char(pg_xlog_location_diff(sent_location,replay_location),'99999999999'),20)  as byte_lag
from func_stat_replication();
05/22/2019 03:30:59 PM DEBUG    desc = Master replication state
05/22/2019 03:30:59 PM DEBUG    type = info
05/22/2019 03:30:59 PM DEBUG    version=9
05/22/2019 03:30:59 PM DEBUG    role=replic_master
05/22/2019 03:30:59 PM DEBUG    check ini file = check_5_replic_slave_1.ini
05/22/2019 03:30:59 PM DEBUG    --------
05/22/2019 03:30:59 PM DEBUG    nameParamFile=check_5_replic_slave_1.ini
05/22/2019 03:30:59 PM DEBUG    column = ratio
05/22/2019 03:30:59 PM DEBUG    ok_value = True
05/22/2019 03:30:59 PM DEBUG    sqlText = Select
Cast(Case
When pg_is_in_recovery() Then 'True'
ELse 'False' END
AS Varchar(256)) as status
from pg_is_in_recovery() ;
05/22/2019 03:30:59 PM DEBUG    desc = Recovery replication status
05/22/2019 03:30:59 PM DEBUG    type = check_str
05/22/2019 03:30:59 PM DEBUG    version=9
05/22/2019 03:30:59 PM DEBUG    role=replic_slave
05/22/2019 03:30:59 PM DEBUG    check ini file = check_5_replic_slave_2.ini
05/22/2019 03:30:59 PM DEBUG    --------
05/22/2019 03:30:59 PM DEBUG    nameParamFile=check_5_replic_slave_2.ini
05/22/2019 03:30:59 PM DEBUG    column = result
05/22/2019 03:30:59 PM DEBUG    ok_value = 
05/22/2019 03:30:59 PM DEBUG    sqlText = select to_char(now()-pg_last_xact_replay_timestamp(), 'yyyy-MM-dd HH24:mm:ss') as result;
05/22/2019 03:30:59 PM DEBUG    desc = Recovery replication apply delay
05/22/2019 03:30:59 PM DEBUG    type = check_str
05/22/2019 03:30:59 PM DEBUG    version=9
05/22/2019 03:30:59 PM DEBUG    role=replic_slave
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:30:59 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:30:59 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    result=0.9999361826855342
05/22/2019 03:30:59 PM DEBUG    resultSql = 0.9999361826855342
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9999361826855342 OK
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9999361826855342 OK
05/22/2019 03:30:59 PM DEBUG    --- one_check started: session count info
05/22/2019 03:30:59 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:30:59 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    result next string=ehdapi2              NULL                       4
05/22/2019 03:30:59 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:30:59 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:30:59 PM DEBUG    result next string=NULL                 NULL                       4
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : ehdapi2              NULL                       4
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       1
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : NULL                 NULL                       4
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : 
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:30:59 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:30:59 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:30:59 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:30:59 PM DEBUG    result next string=postgres             |         17          
05/22/2019 03:30:59 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:30:59 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:30:59 PM DEBUG    result next string=template_postgis     |         14          
05/22/2019 03:30:59 PM DEBUG    result next string=ehdapi2              |         19          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |         17          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          7          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          7          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : template_postgis     |         14          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : ehdapi2              |         19          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : 
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:30:59 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:30:59 PM DEBUG    version not equals, exit
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:30:59 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:30:59 PM DEBUG    version not equals, exit
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:30:59 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:30:59 PM DEBUG    version not equals, exit
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:30:59 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:30:59 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    result=0.9931460684353925
05/22/2019 03:30:59 PM DEBUG    resultSql = 0.9931460684353925
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9931460684353925 OK
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9931460684353925 OK
05/22/2019 03:30:59 PM DEBUG    --- one_check started: session count info
05/22/2019 03:30:59 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:30:59 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    result next string=gdoc                 NULL                       90
05/22/2019 03:30:59 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:30:59 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:30:59 PM DEBUG    result next string=sbrazgin             NULL                       2
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 NULL                       90
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       1
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : sbrazgin             NULL                       2
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : 
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:30:59 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:30:59 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:30:59 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:30:59 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:30:59 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:30:59 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:30:59 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:30:59 PM DEBUG    result next string=gdoc                 |      74791          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          6          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          6          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : test                 |          7          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 |      74791          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : 
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:30:59 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:30:59 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -- Master replication state
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    result next string= client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:30:59 PM DEBUG    result next string=------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:30:59 PM DEBUG    result next string=10.1.131.8/32     |streaming      |157/ADC0FD8         |157/ADC0FD8         |157/ADC0FD8         |157/ADC0FD8         |           0        
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : ------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : 10.1.131.8/32     |streaming      |157/ADC0FD8         |157/ADC0FD8         |157/ADC0FD8         |157/ADC0FD8         |           0        
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : 
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:30:59 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:30:59 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:30:59 PM DEBUG    role not equals, exit
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:30:59 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:30:59 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:30:59 PM DEBUG    role not equals, exit
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-sm-arm04, port=5432, database=susemanager, role=standalone
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-sm-arm04, port=5432, database=susemanager, role=standalone
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:30:59 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:30:59 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    result=0.9991179973831256
05/22/2019 03:30:59 PM DEBUG    resultSql = 0.9991179973831256
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9991179973831256 OK
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9991179973831256 OK
05/22/2019 03:30:59 PM DEBUG    --- one_check started: session count info
05/22/2019 03:30:59 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:30:59 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:30:59 PM DEBUG    result next string=postgres             NULL                       4
05/22/2019 03:30:59 PM DEBUG    result next string=susemanager          NULL                       37
05/22/2019 03:30:59 PM DEBUG    result next string=NULL                 NULL                       7
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       4
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : susemanager          NULL                       37
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : NULL                 NULL                       7
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : 
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:30:59 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:30:59 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:30:59 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:30:59 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:30:59 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:30:59 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:30:59 PM DEBUG    result next string=susemanager          |      69111          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          7          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          7          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : susemanager          |      69111          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : 
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:30:59 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:30:59 PM DEBUG    version not equals, exit
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:30:59 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:30:59 PM DEBUG    version not equals, exit
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:30:59 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:30:59 PM DEBUG    version not equals, exit
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-supdp2-pg01, port=5432, database=postgres, role=replic_slave
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-supdp2-pg01, port=5432, database=postgres, role=replic_slave
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:30:59 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:30:59 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:30:59 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    result=0.9999971805582101
05/22/2019 03:30:59 PM DEBUG    resultSql = 0.9999971805582101
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9999971805582101 OK
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9999971805582101 OK
05/22/2019 03:30:59 PM DEBUG    --- one_check started: session count info
05/22/2019 03:30:59 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:30:59 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : 
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:30:59 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:30:59 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:30:59 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:30:59 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:30:59 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:30:59 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:30:59 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:30:59 PM DEBUG    result next string=gdoc                 |      74791          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          6          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          6          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : test                 |          7          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 |      74791          
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : 
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:30:59 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:30:59 PM DEBUG    db1.role=replic_slave check1.role=replic_master
05/22/2019 03:30:59 PM DEBUG    role not equals, exit
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:30:59 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:30:59 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -- Recovery replication status
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    result=True
05/22/2019 03:30:59 PM DEBUG    resultSql = True
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : Value : True OK
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : Recovery replication status Value : True OK
05/22/2019 03:30:59 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:30:59 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:30:59 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -- Recovery replication apply delay
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:30:59 PM DEBUG    result=0000-00-00 00:00:01
05/22/2019 03:30:59 PM DEBUG    resultSql = 0000-00-00 00:00:01
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0000-00-00 00:00:01 
05/22/2019 03:30:59 PM DEBUG    WRITE TO OUT LOG [short] : Recovery replication apply delay Value : 0000-00-00 00:00:01 
05/22/2019 03:31:51 PM INFO     Started
05/22/2019 03:31:51 PM INFO     TEXT_SAVE [full] started, out_file = c:\d\PGCheker.out
05/22/2019 03:31:51 PM INFO     TEXT_SAVE [short] started, out_file = c:\d\PGCheker2.out
05/22/2019 03:31:51 PM DEBUG    db ini file = db_1.ini
05/22/2019 03:31:51 PM DEBUG    hostName=srv-tnormap1-pg01
05/22/2019 03:31:51 PM DEBUG    portNumber=5432
05/22/2019 03:31:51 PM DEBUG    database=ehdapi2
05/22/2019 03:31:51 PM DEBUG    username=pgmonitor
05/22/2019 03:31:51 PM DEBUG    password=pgmonitor
05/22/2019 03:31:51 PM DEBUG    version=0
05/22/2019 03:31:51 PM DEBUG    role=standalone
05/22/2019 03:31:51 PM DEBUG    Connected!
05/22/2019 03:31:51 PM DEBUG    db ini file = db_2.ini
05/22/2019 03:31:51 PM DEBUG    hostName=srv-supdp2-pg01st
05/22/2019 03:31:51 PM DEBUG    portNumber=5432
05/22/2019 03:31:51 PM DEBUG    database=postgres
05/22/2019 03:31:51 PM DEBUG    username=pgmonitor
05/22/2019 03:31:51 PM DEBUG    password=pgmonitor
05/22/2019 03:31:51 PM DEBUG    version=9
05/22/2019 03:31:51 PM DEBUG    role=replic_master
05/22/2019 03:31:51 PM DEBUG    Connected!
05/22/2019 03:31:51 PM DEBUG    db ini file = db_3.ini
05/22/2019 03:31:51 PM DEBUG    hostName=srv-sm-arm04
05/22/2019 03:31:51 PM DEBUG    portNumber=5432
05/22/2019 03:31:51 PM DEBUG    database=susemanager
05/22/2019 03:31:51 PM DEBUG    username=pgmonitor
05/22/2019 03:31:51 PM DEBUG    password=pgmonitor
05/22/2019 03:31:51 PM DEBUG    version=0
05/22/2019 03:31:51 PM DEBUG    role=standalone
05/22/2019 03:31:51 PM DEBUG    Connected!
05/22/2019 03:31:51 PM DEBUG    db ini file = db_4.ini
05/22/2019 03:31:51 PM DEBUG    hostName=srv-supdp2-pg01
05/22/2019 03:31:51 PM DEBUG    portNumber=5432
05/22/2019 03:31:51 PM DEBUG    database=postgres
05/22/2019 03:31:51 PM DEBUG    username=pgmonitor
05/22/2019 03:31:51 PM DEBUG    password=pgmonitor
05/22/2019 03:31:51 PM DEBUG    version=9
05/22/2019 03:31:51 PM DEBUG    role=replic_slave
05/22/2019 03:31:51 PM DEBUG    Connected!
05/22/2019 03:31:51 PM DEBUG    check ini file = check_1.ini
05/22/2019 03:31:51 PM DEBUG    --------
05/22/2019 03:31:51 PM DEBUG    nameParamFile=check_1.ini
05/22/2019 03:31:51 PM DEBUG    column = ratio
05/22/2019 03:31:51 PM DEBUG    ok_min_value = 0.90
05/22/2019 03:31:51 PM DEBUG    ok_max_value = 1
05/22/2019 03:31:51 PM DEBUG    warning_min_value = 0.80
05/22/2019 03:31:51 PM DEBUG    warning_max_value = 0.90
05/22/2019 03:31:51 PM DEBUG    sqlText = SELECT
sum(heap_blks_hit) / (sum(heap_blks_hit) + sum(heap_blks_read)) as ratio
FROM
pg_statio_all_tables;
05/22/2019 03:31:51 PM DEBUG    desc = cache hit ratio
05/22/2019 03:31:51 PM DEBUG    type = check_float
05/22/2019 03:31:51 PM DEBUG    version=0
05/22/2019 03:31:51 PM DEBUG    role=unknown
05/22/2019 03:31:51 PM DEBUG    check ini file = check_2_session_cnt.ini
05/22/2019 03:31:51 PM DEBUG    --------
05/22/2019 03:31:51 PM DEBUG    nameParamFile=check_2_session_cnt.ini
05/22/2019 03:31:51 PM DEBUG    sqlText = SELECT rpad(coalesce(usename,'NULL'),20)||' '|| rpad(coalesce(state,'NULL'),25) ||'  ' ||  count(*) as RESULT
FROM  pg_stat_activity
GROUP BY usename,  state
ORDER BY usename,  state ;
05/22/2019 03:31:51 PM DEBUG    desc = session count info
05/22/2019 03:31:51 PM DEBUG    type = info
05/22/2019 03:31:51 PM DEBUG    version=0
05/22/2019 03:31:51 PM DEBUG    role=unknown
05/22/2019 03:31:51 PM DEBUG    check ini file = check_3_size.ini
05/22/2019 03:31:51 PM DEBUG    --------
05/22/2019 03:31:51 PM DEBUG    nameParamFile=check_3_size.ini
05/22/2019 03:31:51 PM DEBUG    sqlText = select rpad('database_name',20) ||' | '|| rpad('size_in_mb',20)  AS RESULT
union all
select rpad('-------------',20) ||' | '|| rpad('---------',20)  AS RESULT
union all
SELECT rpad(pg_database.datname,20)||' | '|| rpad( to_char( pg_database_size(pg_database.datname)/1024/1024,'999999999') ,20) AS RESULT
FROM pg_database;
05/22/2019 03:31:51 PM DEBUG    desc = Size of all databases
05/22/2019 03:31:51 PM DEBUG    type = info
05/22/2019 03:31:51 PM DEBUG    version=0
05/22/2019 03:31:51 PM DEBUG    role=unknown
05/22/2019 03:31:51 PM DEBUG    check ini file = check_4_replic_master_1.ini
05/22/2019 03:31:51 PM DEBUG    --------
05/22/2019 03:31:51 PM DEBUG    nameParamFile=check_4_replic_master_1.ini
05/22/2019 03:31:51 PM DEBUG    sqlText = select ' client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | ' as result
union all
select '------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| ' as result
union all
select rpad(text(client_addr),18)||'|'||
rpad(state,15)||'|'||
rpad(text(sent_location),20)||'|'||
rpad(text(write_location),20)||'|'||
rpad(text(flush_location),20)||'|'||
rpad(text(replay_location),20)||'|'||
rpad(to_char(pg_xlog_location_diff(sent_location,replay_location),'99999999999'),20)  as byte_lag
from func_stat_replication();
05/22/2019 03:31:51 PM DEBUG    desc = Master replication state
05/22/2019 03:31:51 PM DEBUG    type = info
05/22/2019 03:31:51 PM DEBUG    version=9
05/22/2019 03:31:51 PM DEBUG    role=replic_master
05/22/2019 03:31:51 PM DEBUG    check ini file = check_5_replic_slave_1.ini
05/22/2019 03:31:51 PM DEBUG    --------
05/22/2019 03:31:51 PM DEBUG    nameParamFile=check_5_replic_slave_1.ini
05/22/2019 03:31:51 PM DEBUG    column = ratio
05/22/2019 03:31:51 PM DEBUG    ok_value = True
05/22/2019 03:31:51 PM DEBUG    sqlText = Select
Cast(Case
When pg_is_in_recovery() Then 'True'
ELse 'False' END
AS Varchar(256)) as status
from pg_is_in_recovery() ;
05/22/2019 03:31:51 PM DEBUG    desc = Recovery replication status
05/22/2019 03:31:51 PM DEBUG    type = check_str
05/22/2019 03:31:51 PM DEBUG    version=9
05/22/2019 03:31:51 PM DEBUG    role=replic_slave
05/22/2019 03:31:51 PM DEBUG    check ini file = check_5_replic_slave_2.ini
05/22/2019 03:31:51 PM DEBUG    --------
05/22/2019 03:31:51 PM DEBUG    nameParamFile=check_5_replic_slave_2.ini
05/22/2019 03:31:51 PM DEBUG    column = result
05/22/2019 03:31:51 PM DEBUG    ok_value = 
05/22/2019 03:31:51 PM DEBUG    sqlText = select to_char(now()-pg_last_xact_replay_timestamp(), 'yyyy-MM-dd HH24:mm:ss') as result;
05/22/2019 03:31:51 PM DEBUG    desc = Recovery replication apply delay
05/22/2019 03:31:51 PM DEBUG    type = check_str
05/22/2019 03:31:51 PM DEBUG    version=9
05/22/2019 03:31:51 PM DEBUG    role=replic_slave
05/22/2019 03:31:51 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:31:51 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:31:51 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:31:51 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:31:51 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:31:51 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:31:51 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:31:51 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:31:51 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:31:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:51 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:31:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    result=0.9999361842024472
05/22/2019 03:31:52 PM DEBUG    resultSql = 0.9999361842024472
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9999361842024472 OK
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9999361842024472 OK
05/22/2019 03:31:52 PM DEBUG    --- one_check started: session count info
05/22/2019 03:31:52 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:31:52 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    result next string=ehdapi2              NULL                       4
05/22/2019 03:31:52 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:31:52 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:31:52 PM DEBUG    result next string=NULL                 NULL                       4
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : ehdapi2              NULL                       4
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       1
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : NULL                 NULL                       4
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:31:52 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:31:52 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:31:52 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:31:52 PM DEBUG    result next string=postgres             |         17          
05/22/2019 03:31:52 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:31:52 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:31:52 PM DEBUG    result next string=template_postgis     |         14          
05/22/2019 03:31:52 PM DEBUG    result next string=ehdapi2              |         19          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |         17          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          7          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          7          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : template_postgis     |         14          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : ehdapi2              |         19          
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:31:52 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:31:52 PM DEBUG    version not equals, exit
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:31:52 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:31:52 PM DEBUG    version not equals, exit
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:31:52 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:31:52 PM DEBUG    version not equals, exit
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:31:52 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:31:52 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:31:52 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    result=0.9931461024030636
05/22/2019 03:31:52 PM DEBUG    resultSql = 0.9931461024030636
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9931461024030636 OK
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9931461024030636 OK
05/22/2019 03:31:52 PM DEBUG    --- one_check started: session count info
05/22/2019 03:31:52 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:31:52 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    result next string=gdoc                 NULL                       90
05/22/2019 03:31:52 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:31:52 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:31:52 PM DEBUG    result next string=sbrazgin             NULL                       2
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 NULL                       90
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       1
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : sbrazgin             NULL                       2
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:31:52 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:31:52 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:31:52 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:31:52 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:31:52 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:31:52 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:31:52 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:31:52 PM DEBUG    result next string=gdoc                 |      74791          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          6          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          6          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : test                 |          7          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 |      74791          
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:31:52 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:31:52 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -- Master replication state
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    result next string= client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:31:52 PM DEBUG    result next string=------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:31:52 PM DEBUG    result next string=10.1.131.8/32     |streaming      |157/B44A438         |157/B44A438         |157/B44A438         |157/B449150         |        4840        
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : ------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : 10.1.131.8/32     |streaming      |157/B44A438         |157/B44A438         |157/B44A438         |157/B449150         |        4840        
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:31:52 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:31:52 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:31:52 PM DEBUG    role not equals, exit
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:31:52 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:31:52 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:31:52 PM DEBUG    role not equals, exit
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-sm-arm04, port=5432, database=susemanager, role=standalone
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-sm-arm04, port=5432, database=susemanager, role=standalone
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:31:52 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:31:52 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:31:52 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    result=0.9991311713029322
05/22/2019 03:31:52 PM DEBUG    resultSql = 0.9991311713029322
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9991311713029322 OK
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9991311713029322 OK
05/22/2019 03:31:52 PM DEBUG    --- one_check started: session count info
05/22/2019 03:31:52 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:31:52 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:31:52 PM DEBUG    result next string=postgres             NULL                       4
05/22/2019 03:31:52 PM DEBUG    result next string=susemanager          NULL                       40
05/22/2019 03:31:52 PM DEBUG    result next string=NULL                 NULL                       7
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       4
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : susemanager          NULL                       40
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : NULL                 NULL                       7
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:31:52 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:31:52 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:31:52 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:31:52 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:31:52 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:31:52 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:31:52 PM DEBUG    result next string=susemanager          |      69111          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          7          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          7          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : susemanager          |      69111          
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:31:52 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:31:52 PM DEBUG    version not equals, exit
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:31:52 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:31:52 PM DEBUG    version not equals, exit
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:31:52 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:31:52 PM DEBUG    version not equals, exit
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-supdp2-pg01, port=5432, database=postgres, role=replic_slave
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-supdp2-pg01, port=5432, database=postgres, role=replic_slave
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:31:52 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:31:52 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:31:52 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    result=0.999997180600011
05/22/2019 03:31:52 PM DEBUG    resultSql = 0.999997180600011
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.999997180600011 OK
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.999997180600011 OK
05/22/2019 03:31:52 PM DEBUG    --- one_check started: session count info
05/22/2019 03:31:52 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:31:52 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:31:52 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:31:52 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:31:52 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:31:52 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:31:52 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:31:52 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:31:52 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:31:52 PM DEBUG    result next string=gdoc                 |      74791          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          6          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          6          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : test                 |          7          
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 |      74791          
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:31:52 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:31:52 PM DEBUG    db1.role=replic_slave check1.role=replic_master
05/22/2019 03:31:52 PM DEBUG    role not equals, exit
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:31:52 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:31:52 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -- Recovery replication status
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    result=True
05/22/2019 03:31:52 PM DEBUG    resultSql = True
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : Value : True OK
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] : Recovery replication status Value : True OK
05/22/2019 03:31:52 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:31:52 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:31:52 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -- Recovery replication apply delay
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:31:52 PM DEBUG    result=0000-00-00 00:00:00
05/22/2019 03:31:52 PM DEBUG    resultSql = 0000-00-00 00:00:00
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0000-00-00 00:00:00 
05/22/2019 03:31:52 PM DEBUG    WRITE TO OUT LOG [short] : Recovery replication apply delay Value : 0000-00-00 00:00:00 
05/22/2019 03:42:46 PM INFO     Started
05/22/2019 03:42:46 PM INFO     TEXT_SAVE [full] started, out_file = c:\d\PGCheker.out
05/22/2019 03:42:46 PM INFO     TEXT_SAVE [short] started, out_file = c:\d\PGCheker2.out
05/22/2019 03:42:46 PM DEBUG    db ini file = db_1.ini
05/22/2019 03:42:46 PM DEBUG    hostName=srv-tnormap1-pg01
05/22/2019 03:42:46 PM DEBUG    portNumber=5432
05/22/2019 03:42:46 PM DEBUG    database=ehdapi2
05/22/2019 03:42:46 PM DEBUG    username=pgmonitor
05/22/2019 03:42:46 PM DEBUG    password=pgmonitor
05/22/2019 03:42:46 PM DEBUG    version=0
05/22/2019 03:42:46 PM DEBUG    role=standalone
05/22/2019 03:42:46 PM DEBUG    Connected!
05/22/2019 03:42:46 PM DEBUG    db ini file = db_2.ini
05/22/2019 03:42:46 PM DEBUG    hostName=srv-supdp2-pg01st
05/22/2019 03:42:46 PM DEBUG    portNumber=5432
05/22/2019 03:42:46 PM DEBUG    database=postgres
05/22/2019 03:42:46 PM DEBUG    username=pgmonitor
05/22/2019 03:42:46 PM DEBUG    password=pgmonitor
05/22/2019 03:42:46 PM DEBUG    version=9
05/22/2019 03:42:46 PM DEBUG    role=replic_master
05/22/2019 03:42:46 PM DEBUG    Connected!
05/22/2019 03:42:46 PM DEBUG    db ini file = db_3.ini
05/22/2019 03:42:46 PM DEBUG    hostName=srv-sm-arm04
05/22/2019 03:42:46 PM DEBUG    portNumber=5432
05/22/2019 03:42:46 PM DEBUG    database=susemanager
05/22/2019 03:42:46 PM DEBUG    username=pgmonitor
05/22/2019 03:42:46 PM DEBUG    password=pgmonitor
05/22/2019 03:42:46 PM DEBUG    version=0
05/22/2019 03:42:46 PM DEBUG    role=standalone
05/22/2019 03:42:46 PM DEBUG    Connected!
05/22/2019 03:42:46 PM DEBUG    db ini file = db_4.ini
05/22/2019 03:42:46 PM DEBUG    hostName=srv-supdp2-pg01
05/22/2019 03:42:46 PM DEBUG    portNumber=5432
05/22/2019 03:42:46 PM DEBUG    database=postgres
05/22/2019 03:42:46 PM DEBUG    username=pgmonitor
05/22/2019 03:42:46 PM DEBUG    password=pgmonitor
05/22/2019 03:42:46 PM DEBUG    version=9
05/22/2019 03:42:46 PM DEBUG    role=replic_slave
05/22/2019 03:42:46 PM DEBUG    Connected!
05/22/2019 03:42:46 PM DEBUG    check ini file = check_1.ini
05/22/2019 03:42:46 PM DEBUG    --------
05/22/2019 03:42:46 PM DEBUG    nameParamFile=check_1.ini
05/22/2019 03:42:46 PM DEBUG    column = ratio
05/22/2019 03:42:46 PM DEBUG    ok_min_value = 0.90
05/22/2019 03:42:46 PM DEBUG    ok_max_value = 1
05/22/2019 03:42:46 PM DEBUG    warning_min_value = 0.80
05/22/2019 03:42:46 PM DEBUG    warning_max_value = 0.90
05/22/2019 03:42:46 PM DEBUG    sqlText = SELECT
sum(heap_blks_hit) / (sum(heap_blks_hit) + sum(heap_blks_read)) as ratio
FROM
pg_statio_all_tables;
05/22/2019 03:42:46 PM DEBUG    desc = cache hit ratio
05/22/2019 03:42:46 PM DEBUG    type = check_float
05/22/2019 03:42:46 PM DEBUG    version=0
05/22/2019 03:42:46 PM DEBUG    role=unknown
05/22/2019 03:42:46 PM DEBUG    check ini file = check_2_session_cnt.ini
05/22/2019 03:42:46 PM DEBUG    --------
05/22/2019 03:42:46 PM DEBUG    nameParamFile=check_2_session_cnt.ini
05/22/2019 03:42:46 PM DEBUG    sqlText = SELECT rpad(coalesce(usename,'NULL'),20)||' '|| rpad(coalesce(state,'NULL'),25) ||'  ' ||  count(*) as RESULT
FROM  pg_stat_activity
GROUP BY usename,  state
ORDER BY usename,  state ;
05/22/2019 03:42:46 PM DEBUG    desc = session count info
05/22/2019 03:42:46 PM DEBUG    type = info
05/22/2019 03:42:46 PM DEBUG    version=0
05/22/2019 03:42:46 PM DEBUG    role=unknown
05/22/2019 03:42:46 PM DEBUG    check ini file = check_3_size.ini
05/22/2019 03:42:46 PM DEBUG    --------
05/22/2019 03:42:46 PM DEBUG    nameParamFile=check_3_size.ini
05/22/2019 03:42:46 PM DEBUG    sqlText = select rpad('database_name',20) ||' | '|| rpad('size_in_mb',20)  AS RESULT
union all
select rpad('-------------',20) ||' | '|| rpad('---------',20)  AS RESULT
union all
SELECT rpad(pg_database.datname,20)||' | '|| rpad( to_char( pg_database_size(pg_database.datname)/1024/1024,'999999999') ,20) AS RESULT
FROM pg_database;
05/22/2019 03:42:46 PM DEBUG    desc = Size of all databases
05/22/2019 03:42:46 PM DEBUG    type = info
05/22/2019 03:42:46 PM DEBUG    version=0
05/22/2019 03:42:46 PM DEBUG    role=unknown
05/22/2019 03:42:46 PM DEBUG    check ini file = check_4_replic_master_1.ini
05/22/2019 03:42:46 PM DEBUG    --------
05/22/2019 03:42:46 PM DEBUG    nameParamFile=check_4_replic_master_1.ini
05/22/2019 03:42:46 PM DEBUG    column = r
05/22/2019 03:42:46 PM DEBUG    ok_value = streaming
05/22/2019 03:42:46 PM DEBUG    sqlText = select s.state from pg_stat_replication s;
05/22/2019 03:42:46 PM DEBUG    desc = Master replication state
05/22/2019 03:42:46 PM DEBUG    type = check_str
05/22/2019 03:42:46 PM DEBUG    version=9
05/22/2019 03:42:46 PM DEBUG    role=replic_master
05/22/2019 03:42:46 PM DEBUG    check ini file = check_4_replic_master_4.ini
05/22/2019 03:42:46 PM DEBUG    --------
05/22/2019 03:42:46 PM DEBUG    nameParamFile=check_4_replic_master_4.ini
05/22/2019 03:42:46 PM DEBUG    sqlText = select ' client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | ' as result
union all
select '------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| ' as result
union all
select rpad(text(client_addr),18)||'|'||
rpad(state,15)||'|'||
rpad(text(sent_location),20)||'|'||
rpad(text(write_location),20)||'|'||
rpad(text(flush_location),20)||'|'||
rpad(text(replay_location),20)||'|'||
rpad(to_char(pg_xlog_location_diff(sent_location,replay_location),'99999999999'),20)  as byte_lag
from func_stat_replication();
05/22/2019 03:42:46 PM DEBUG    desc = Master replication state
05/22/2019 03:42:46 PM DEBUG    type = info
05/22/2019 03:42:46 PM DEBUG    version=9
05/22/2019 03:42:46 PM DEBUG    role=replic_master
05/22/2019 03:42:46 PM DEBUG    check ini file = check_5_replic_slave_1.ini
05/22/2019 03:42:46 PM DEBUG    --------
05/22/2019 03:42:46 PM DEBUG    nameParamFile=check_5_replic_slave_1.ini
05/22/2019 03:42:46 PM DEBUG    column = ratio
05/22/2019 03:42:46 PM DEBUG    ok_value = True
05/22/2019 03:42:46 PM DEBUG    sqlText = Select
Cast(Case
When pg_is_in_recovery() Then 'True'
ELse 'False' END
AS Varchar(256)) as status
from pg_is_in_recovery() ;
05/22/2019 03:42:46 PM DEBUG    desc = Recovery replication status
05/22/2019 03:42:46 PM DEBUG    type = check_str
05/22/2019 03:42:46 PM DEBUG    version=9
05/22/2019 03:42:46 PM DEBUG    role=replic_slave
05/22/2019 03:42:46 PM DEBUG    check ini file = check_5_replic_slave_2.ini
05/22/2019 03:42:46 PM DEBUG    --------
05/22/2019 03:42:46 PM DEBUG    nameParamFile=check_5_replic_slave_2.ini
05/22/2019 03:42:46 PM DEBUG    column = result
05/22/2019 03:42:46 PM DEBUG    ok_value = 
05/22/2019 03:42:46 PM DEBUG    sqlText = select to_char(now()-pg_last_xact_replay_timestamp(), 'yyyy-MM-dd HH24:mm:ss') as result;
05/22/2019 03:42:46 PM DEBUG    desc = Recovery replication apply delay
05/22/2019 03:42:46 PM DEBUG    type = check_str
05/22/2019 03:42:46 PM DEBUG    version=9
05/22/2019 03:42:46 PM DEBUG    role=replic_slave
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:42:46 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:42:46 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    result=0.9999361893795984
05/22/2019 03:42:46 PM DEBUG    resultSql = 0.9999361893795984
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9999361893795984 OK
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9999361893795984 OK
05/22/2019 03:42:46 PM DEBUG    --- one_check started: session count info
05/22/2019 03:42:46 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:42:46 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    result next string=ehdapi2              NULL                       4
05/22/2019 03:42:46 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:42:46 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:42:46 PM DEBUG    result next string=NULL                 NULL                       4
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : ehdapi2              NULL                       4
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       1
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : NULL                 NULL                       4
05/22/2019 03:42:46 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:42:46 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:42:46 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:42:46 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:42:46 PM DEBUG    result next string=postgres             |         17          
05/22/2019 03:42:46 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:42:46 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:42:46 PM DEBUG    result next string=template_postgis     |         14          
05/22/2019 03:42:46 PM DEBUG    result next string=ehdapi2              |         19          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |         17          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          7          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          7          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : template_postgis     |         14          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : ehdapi2              |         19          
05/22/2019 03:42:46 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:42:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:42:46 PM DEBUG    version not equals, exit
05/22/2019 03:42:46 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:42:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:42:46 PM DEBUG    version not equals, exit
05/22/2019 03:42:46 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:42:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:42:46 PM DEBUG    version not equals, exit
05/22/2019 03:42:46 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:42:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:42:46 PM DEBUG    version not equals, exit
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:42:46 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:42:46 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    result=0.9931460310205731
05/22/2019 03:42:46 PM DEBUG    resultSql = 0.9931460310205731
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9931460310205731 OK
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9931460310205731 OK
05/22/2019 03:42:46 PM DEBUG    --- one_check started: session count info
05/22/2019 03:42:46 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:42:46 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    result next string=gdoc                 NULL                       92
05/22/2019 03:42:46 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:42:46 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:42:46 PM DEBUG    result next string=sbrazgin             NULL                       4
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 NULL                       92
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       1
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : sbrazgin             NULL                       4
05/22/2019 03:42:46 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:42:46 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:42:46 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:42:46 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:42:46 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:42:46 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:42:46 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:42:46 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:42:46 PM DEBUG    result next string=gdoc                 |      74794          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          6          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          6          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : test                 |          7          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 |      74794          
05/22/2019 03:42:46 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:42:46 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:42:46 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -- Master replication state
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    result=None
05/22/2019 03:42:46 PM DEBUG    resultSql = None
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : Value : None Error
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : Master replication state Value : None Error
05/22/2019 03:42:46 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:42:46 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:42:46 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -- Master replication state
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    result next string= client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:42:46 PM DEBUG    result next string=------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:42:46 PM DEBUG    result next string=10.1.131.8/32     |streaming      |157/F409AE8         |157/F409AE8         |157/F409AE8         |157/F409AE8         |           0        
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : ------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : 10.1.131.8/32     |streaming      |157/F409AE8         |157/F409AE8         |157/F409AE8         |157/F409AE8         |           0        
05/22/2019 03:42:46 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:42:46 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:42:46 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:42:46 PM DEBUG    role not equals, exit
05/22/2019 03:42:46 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:42:46 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:42:46 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:42:46 PM DEBUG    role not equals, exit
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-sm-arm04, port=5432, database=susemanager, role=standalone
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-sm-arm04, port=5432, database=susemanager, role=standalone
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:42:46 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:42:46 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    result=0.9992349437455331
05/22/2019 03:42:46 PM DEBUG    resultSql = 0.9992349437455331
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9992349437455331 OK
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9992349437455331 OK
05/22/2019 03:42:46 PM DEBUG    --- one_check started: session count info
05/22/2019 03:42:46 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:42:46 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:42:46 PM DEBUG    result next string=postgres             NULL                       4
05/22/2019 03:42:46 PM DEBUG    result next string=susemanager          NULL                       36
05/22/2019 03:42:46 PM DEBUG    result next string=NULL                 NULL                       6
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       4
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : susemanager          NULL                       36
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : NULL                 NULL                       6
05/22/2019 03:42:46 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:42:46 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:42:46 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:42:46 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:42:46 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:42:46 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:42:46 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:42:46 PM DEBUG    result next string=susemanager          |      69116          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          7          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          7          
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : susemanager          |      69116          
05/22/2019 03:42:46 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:42:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:42:46 PM DEBUG    version not equals, exit
05/22/2019 03:42:46 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:42:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:42:46 PM DEBUG    version not equals, exit
05/22/2019 03:42:46 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:42:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:42:46 PM DEBUG    version not equals, exit
05/22/2019 03:42:46 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:42:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:42:46 PM DEBUG    version not equals, exit
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-supdp2-pg01, port=5432, database=postgres, role=replic_slave
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-supdp2-pg01, port=5432, database=postgres, role=replic_slave
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:42:46 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:42:46 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:42:46 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:42:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:47 PM DEBUG    result=0.9999971811431596
05/22/2019 03:42:47 PM DEBUG    resultSql = 0.9999971811431596
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9999971811431596 OK
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9999971811431596 OK
05/22/2019 03:42:47 PM DEBUG    --- one_check started: session count info
05/22/2019 03:42:47 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:42:47 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:47 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:42:47 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:42:47 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:42:47 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:47 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:42:47 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:42:47 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:42:47 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:42:47 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:42:47 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:42:47 PM DEBUG    result next string=gdoc                 |      74794          
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          6          
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          6          
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : test                 |          7          
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 |      74794          
05/22/2019 03:42:47 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:42:47 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:42:47 PM DEBUG    db1.role=replic_slave check1.role=replic_master
05/22/2019 03:42:47 PM DEBUG    role not equals, exit
05/22/2019 03:42:47 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:42:47 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:42:47 PM DEBUG    db1.role=replic_slave check1.role=replic_master
05/22/2019 03:42:47 PM DEBUG    role not equals, exit
05/22/2019 03:42:47 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:42:47 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:42:47 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : -- Recovery replication status
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:47 PM DEBUG    result=True
05/22/2019 03:42:47 PM DEBUG    resultSql = True
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : Value : True OK
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [short] : Recovery replication status Value : True OK
05/22/2019 03:42:47 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:42:47 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:42:47 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : -- Recovery replication apply delay
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:42:47 PM DEBUG    result=0000-00-00 00:00:00
05/22/2019 03:42:47 PM DEBUG    resultSql = 0000-00-00 00:00:00
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0000-00-00 00:00:00 
05/22/2019 03:42:47 PM DEBUG    WRITE TO OUT LOG [short] : Recovery replication apply delay Value : 0000-00-00 00:00:00 
05/22/2019 03:43:51 PM INFO     Started
05/22/2019 03:43:51 PM INFO     TEXT_SAVE [full] started, out_file = c:\d\PGCheker.out
05/22/2019 03:43:51 PM INFO     TEXT_SAVE [short] started, out_file = c:\d\PGCheker2.out
05/22/2019 03:43:51 PM DEBUG    db ini file = db_1.ini
05/22/2019 03:43:51 PM DEBUG    hostName=srv-tnormap1-pg01
05/22/2019 03:43:51 PM DEBUG    portNumber=5432
05/22/2019 03:43:51 PM DEBUG    database=ehdapi2
05/22/2019 03:43:51 PM DEBUG    username=pgmonitor
05/22/2019 03:43:51 PM DEBUG    password=pgmonitor
05/22/2019 03:43:51 PM DEBUG    version=0
05/22/2019 03:43:51 PM DEBUG    role=standalone
05/22/2019 03:43:51 PM DEBUG    Connected!
05/22/2019 03:43:51 PM DEBUG    db ini file = db_2.ini
05/22/2019 03:43:51 PM DEBUG    hostName=srv-supdp2-pg01st
05/22/2019 03:43:51 PM DEBUG    portNumber=5432
05/22/2019 03:43:51 PM DEBUG    database=postgres
05/22/2019 03:43:51 PM DEBUG    username=pgmonitor
05/22/2019 03:43:51 PM DEBUG    password=pgmonitor
05/22/2019 03:43:51 PM DEBUG    version=9
05/22/2019 03:43:51 PM DEBUG    role=replic_master
05/22/2019 03:43:51 PM DEBUG    Connected!
05/22/2019 03:43:51 PM DEBUG    db ini file = db_3.ini
05/22/2019 03:43:51 PM DEBUG    hostName=srv-sm-arm04
05/22/2019 03:43:51 PM DEBUG    portNumber=5432
05/22/2019 03:43:51 PM DEBUG    database=susemanager
05/22/2019 03:43:51 PM DEBUG    username=pgmonitor
05/22/2019 03:43:51 PM DEBUG    password=pgmonitor
05/22/2019 03:43:51 PM DEBUG    version=0
05/22/2019 03:43:51 PM DEBUG    role=standalone
05/22/2019 03:43:51 PM DEBUG    Connected!
05/22/2019 03:43:51 PM DEBUG    db ini file = db_4.ini
05/22/2019 03:43:51 PM DEBUG    hostName=srv-supdp2-pg01
05/22/2019 03:43:51 PM DEBUG    portNumber=5432
05/22/2019 03:43:51 PM DEBUG    database=postgres
05/22/2019 03:43:51 PM DEBUG    username=pgmonitor
05/22/2019 03:43:51 PM DEBUG    password=pgmonitor
05/22/2019 03:43:51 PM DEBUG    version=9
05/22/2019 03:43:51 PM DEBUG    role=replic_slave
05/22/2019 03:43:51 PM DEBUG    Connected!
05/22/2019 03:43:51 PM DEBUG    check ini file = check_1.ini
05/22/2019 03:43:51 PM DEBUG    --------
05/22/2019 03:43:51 PM DEBUG    nameParamFile=check_1.ini
05/22/2019 03:43:51 PM DEBUG    column = ratio
05/22/2019 03:43:51 PM DEBUG    ok_min_value = 0.90
05/22/2019 03:43:51 PM DEBUG    ok_max_value = 1
05/22/2019 03:43:51 PM DEBUG    warning_min_value = 0.80
05/22/2019 03:43:51 PM DEBUG    warning_max_value = 0.90
05/22/2019 03:43:51 PM DEBUG    sqlText = SELECT
sum(heap_blks_hit) / (sum(heap_blks_hit) + sum(heap_blks_read)) as ratio
FROM
pg_statio_all_tables;
05/22/2019 03:43:51 PM DEBUG    desc = cache hit ratio
05/22/2019 03:43:51 PM DEBUG    type = check_float
05/22/2019 03:43:51 PM DEBUG    version=0
05/22/2019 03:43:51 PM DEBUG    role=unknown
05/22/2019 03:43:51 PM DEBUG    check ini file = check_2_session_cnt.ini
05/22/2019 03:43:51 PM DEBUG    --------
05/22/2019 03:43:51 PM DEBUG    nameParamFile=check_2_session_cnt.ini
05/22/2019 03:43:51 PM DEBUG    sqlText = SELECT rpad(coalesce(usename,'NULL'),20)||' '|| rpad(coalesce(state,'NULL'),25) ||'  ' ||  count(*) as RESULT
FROM  pg_stat_activity
GROUP BY usename,  state
ORDER BY usename,  state ;
05/22/2019 03:43:51 PM DEBUG    desc = session count info
05/22/2019 03:43:51 PM DEBUG    type = info
05/22/2019 03:43:51 PM DEBUG    version=0
05/22/2019 03:43:51 PM DEBUG    role=unknown
05/22/2019 03:43:51 PM DEBUG    check ini file = check_3_size.ini
05/22/2019 03:43:51 PM DEBUG    --------
05/22/2019 03:43:51 PM DEBUG    nameParamFile=check_3_size.ini
05/22/2019 03:43:51 PM DEBUG    sqlText = select rpad('database_name',20) ||' | '|| rpad('size_in_mb',20)  AS RESULT
union all
select rpad('-------------',20) ||' | '|| rpad('---------',20)  AS RESULT
union all
SELECT rpad(pg_database.datname,20)||' | '|| rpad( to_char( pg_database_size(pg_database.datname)/1024/1024,'999999999') ,20) AS RESULT
FROM pg_database;
05/22/2019 03:43:51 PM DEBUG    desc = Size of all databases
05/22/2019 03:43:51 PM DEBUG    type = info
05/22/2019 03:43:51 PM DEBUG    version=0
05/22/2019 03:43:51 PM DEBUG    role=unknown
05/22/2019 03:43:51 PM DEBUG    check ini file = check_4_replic_master_1.ini
05/22/2019 03:43:51 PM DEBUG    --------
05/22/2019 03:43:51 PM DEBUG    nameParamFile=check_4_replic_master_1.ini
05/22/2019 03:43:51 PM DEBUG    column = r
05/22/2019 03:43:51 PM DEBUG    ok_value = streaming
05/22/2019 03:43:51 PM DEBUG    sqlText = select s.state from func_stat_replication() s;
05/22/2019 03:43:51 PM DEBUG    desc = Master replication state
05/22/2019 03:43:51 PM DEBUG    type = check_str
05/22/2019 03:43:51 PM DEBUG    version=9
05/22/2019 03:43:51 PM DEBUG    role=replic_master
05/22/2019 03:43:51 PM DEBUG    check ini file = check_4_replic_master_4.ini
05/22/2019 03:43:51 PM DEBUG    --------
05/22/2019 03:43:51 PM DEBUG    nameParamFile=check_4_replic_master_4.ini
05/22/2019 03:43:51 PM DEBUG    sqlText = select ' client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | ' as result
union all
select '------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| ' as result
union all
select rpad(text(client_addr),18)||'|'||
rpad(state,15)||'|'||
rpad(text(sent_location),20)||'|'||
rpad(text(write_location),20)||'|'||
rpad(text(flush_location),20)||'|'||
rpad(text(replay_location),20)||'|'||
rpad(to_char(pg_xlog_location_diff(sent_location,replay_location),'99999999999'),20)  as byte_lag
from func_stat_replication();
05/22/2019 03:43:51 PM DEBUG    desc = Master replication state
05/22/2019 03:43:51 PM DEBUG    type = info
05/22/2019 03:43:51 PM DEBUG    version=9
05/22/2019 03:43:51 PM DEBUG    role=replic_master
05/22/2019 03:43:51 PM DEBUG    check ini file = check_5_replic_slave_1.ini
05/22/2019 03:43:51 PM DEBUG    --------
05/22/2019 03:43:51 PM DEBUG    nameParamFile=check_5_replic_slave_1.ini
05/22/2019 03:43:51 PM DEBUG    column = ratio
05/22/2019 03:43:51 PM DEBUG    ok_value = True
05/22/2019 03:43:51 PM DEBUG    sqlText = Select
Cast(Case
When pg_is_in_recovery() Then 'True'
ELse 'False' END
AS Varchar(256)) as status
from pg_is_in_recovery() ;
05/22/2019 03:43:51 PM DEBUG    desc = Recovery replication status
05/22/2019 03:43:51 PM DEBUG    type = check_str
05/22/2019 03:43:51 PM DEBUG    version=9
05/22/2019 03:43:51 PM DEBUG    role=replic_slave
05/22/2019 03:43:51 PM DEBUG    check ini file = check_5_replic_slave_2.ini
05/22/2019 03:43:51 PM DEBUG    --------
05/22/2019 03:43:51 PM DEBUG    nameParamFile=check_5_replic_slave_2.ini
05/22/2019 03:43:51 PM DEBUG    column = result
05/22/2019 03:43:51 PM DEBUG    ok_value = 
05/22/2019 03:43:51 PM DEBUG    sqlText = select to_char(now()-pg_last_xact_replay_timestamp(), 'yyyy-MM-dd HH24:mm:ss') as result;
05/22/2019 03:43:51 PM DEBUG    desc = Recovery replication apply delay
05/22/2019 03:43:51 PM DEBUG    type = check_str
05/22/2019 03:43:51 PM DEBUG    version=9
05/22/2019 03:43:51 PM DEBUG    role=replic_slave
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:43:51 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:43:51 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result=0.9999361909386887
05/22/2019 03:43:51 PM DEBUG    resultSql = 0.9999361909386887
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9999361909386887 OK
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9999361909386887 OK
05/22/2019 03:43:51 PM DEBUG    --- one_check started: session count info
05/22/2019 03:43:51 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:43:51 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result next string=ehdapi2              NULL                       4
05/22/2019 03:43:51 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:43:51 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:43:51 PM DEBUG    result next string=NULL                 NULL                       4
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : ehdapi2              NULL                       4
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       1
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : NULL                 NULL                       4
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:43:51 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:43:51 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:43:51 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:43:51 PM DEBUG    result next string=postgres             |         17          
05/22/2019 03:43:51 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:43:51 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:43:51 PM DEBUG    result next string=template_postgis     |         14          
05/22/2019 03:43:51 PM DEBUG    result next string=ehdapi2              |         19          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |         17          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          7          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          7          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : template_postgis     |         14          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : ehdapi2              |         19          
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:43:51 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:43:51 PM DEBUG    version not equals, exit
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:43:51 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:43:51 PM DEBUG    version not equals, exit
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:43:51 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:43:51 PM DEBUG    version not equals, exit
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:43:51 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:43:51 PM DEBUG    version not equals, exit
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:43:51 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:43:51 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result=0.9931460631915143
05/22/2019 03:43:51 PM DEBUG    resultSql = 0.9931460631915143
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9931460631915143 OK
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9931460631915143 OK
05/22/2019 03:43:51 PM DEBUG    --- one_check started: session count info
05/22/2019 03:43:51 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:43:51 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result next string=gdoc                 NULL                       92
05/22/2019 03:43:51 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:43:51 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:43:51 PM DEBUG    result next string=sbrazgin             NULL                       4
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 NULL                       92
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       1
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : sbrazgin             NULL                       4
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:43:51 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:43:51 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:43:51 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:43:51 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:43:51 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:43:51 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:43:51 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:43:51 PM DEBUG    result next string=gdoc                 |      74794          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          6          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          6          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : test                 |          7          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 |      74794          
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:43:51 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:43:51 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- Master replication state
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result=streaming
05/22/2019 03:43:51 PM DEBUG    resultSql = streaming
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : Value : streaming OK
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : Master replication state Value : streaming OK
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:43:51 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:43:51 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- Master replication state
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result next string= client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:43:51 PM DEBUG    result next string=------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:43:51 PM DEBUG    result next string=10.1.131.8/32     |streaming      |157/F908000         |157/F908000         |157/F908000         |157/F8F5030         |       77776        
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : ------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : 10.1.131.8/32     |streaming      |157/F908000         |157/F908000         |157/F908000         |157/F8F5030         |       77776        
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:43:51 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:43:51 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:43:51 PM DEBUG    role not equals, exit
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:43:51 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:43:51 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:43:51 PM DEBUG    role not equals, exit
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-sm-arm04, port=5432, database=susemanager, role=standalone
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-sm-arm04, port=5432, database=susemanager, role=standalone
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:43:51 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:43:51 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result=0.9992456955513082
05/22/2019 03:43:51 PM DEBUG    resultSql = 0.9992456955513082
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9992456955513082 OK
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9992456955513082 OK
05/22/2019 03:43:51 PM DEBUG    --- one_check started: session count info
05/22/2019 03:43:51 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:43:51 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:43:51 PM DEBUG    result next string=postgres             NULL                       4
05/22/2019 03:43:51 PM DEBUG    result next string=susemanager          NULL                       33
05/22/2019 03:43:51 PM DEBUG    result next string=NULL                 NULL                       7
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       4
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : susemanager          NULL                       33
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : NULL                 NULL                       7
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:43:51 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:43:51 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:43:51 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:43:51 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:43:51 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:43:51 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:43:51 PM DEBUG    result next string=susemanager          |      69116          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          7          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          7          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : susemanager          |      69116          
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:43:51 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:43:51 PM DEBUG    version not equals, exit
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:43:51 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:43:51 PM DEBUG    version not equals, exit
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:43:51 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:43:51 PM DEBUG    version not equals, exit
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:43:51 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:43:51 PM DEBUG    version not equals, exit
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-supdp2-pg01, port=5432, database=postgres, role=replic_slave
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-supdp2-pg01, port=5432, database=postgres, role=replic_slave
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:43:51 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:43:51 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:43:51 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result=0.9999971812095053
05/22/2019 03:43:51 PM DEBUG    resultSql = 0.9999971812095053
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9999971812095053 OK
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9999971812095053 OK
05/22/2019 03:43:51 PM DEBUG    --- one_check started: session count info
05/22/2019 03:43:51 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:43:51 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:43:51 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:43:51 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:43:51 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:43:51 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:43:51 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:43:51 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:43:51 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:43:51 PM DEBUG    result next string=gdoc                 |      74794          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          6          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          6          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : test                 |          7          
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 |      74794          
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:43:51 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:43:51 PM DEBUG    db1.role=replic_slave check1.role=replic_master
05/22/2019 03:43:51 PM DEBUG    role not equals, exit
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:43:51 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:43:51 PM DEBUG    db1.role=replic_slave check1.role=replic_master
05/22/2019 03:43:51 PM DEBUG    role not equals, exit
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:43:51 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:43:51 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- Recovery replication status
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result=True
05/22/2019 03:43:51 PM DEBUG    resultSql = True
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : Value : True OK
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : Recovery replication status Value : True OK
05/22/2019 03:43:51 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:43:51 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:43:51 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -- Recovery replication apply delay
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:43:51 PM DEBUG    result=0000-00-00 00:00:00
05/22/2019 03:43:51 PM DEBUG    resultSql = 0000-00-00 00:00:00
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0000-00-00 00:00:00 
05/22/2019 03:43:51 PM DEBUG    WRITE TO OUT LOG [short] : Recovery replication apply delay Value : 0000-00-00 00:00:00 
05/22/2019 03:52:15 PM INFO     Started
05/22/2019 03:52:15 PM INFO     TEXT_SAVE [full] started, out_file = c:\d\PGCheker.out
05/22/2019 03:52:15 PM INFO     TEXT_SAVE [short] started, out_file = c:\d\PGCheker2.out
05/22/2019 03:52:15 PM DEBUG    db ini file = db_1.ini
05/22/2019 03:52:15 PM DEBUG    hostName=srv-tnormap1-pg01
05/22/2019 03:52:15 PM DEBUG    portNumber=5432
05/22/2019 03:52:15 PM DEBUG    database=ehdapi2
05/22/2019 03:52:15 PM DEBUG    username=pgmonitor
05/22/2019 03:52:15 PM DEBUG    password=pgmonitor
05/22/2019 03:52:15 PM DEBUG    version=0
05/22/2019 03:52:15 PM DEBUG    role=standalone
05/22/2019 03:52:15 PM DEBUG    Connected!
05/22/2019 03:52:15 PM DEBUG    db ini file = db_2.ini
05/22/2019 03:52:15 PM DEBUG    hostName=srv-supdp2-pg01st
05/22/2019 03:52:15 PM DEBUG    portNumber=5432
05/22/2019 03:52:15 PM DEBUG    database=postgres
05/22/2019 03:52:15 PM DEBUG    username=pgmonitor
05/22/2019 03:52:15 PM DEBUG    password=pgmonitor
05/22/2019 03:52:15 PM DEBUG    version=9
05/22/2019 03:52:15 PM DEBUG    role=replic_master
05/22/2019 03:52:15 PM DEBUG    Connected!
05/22/2019 03:52:15 PM DEBUG    db ini file = db_3.ini
05/22/2019 03:52:15 PM DEBUG    hostName=srv-sm-arm04
05/22/2019 03:52:15 PM DEBUG    portNumber=5432
05/22/2019 03:52:15 PM DEBUG    database=susemanager
05/22/2019 03:52:15 PM DEBUG    username=pgmonitor
05/22/2019 03:52:15 PM DEBUG    password=pgmonitor
05/22/2019 03:52:15 PM DEBUG    version=0
05/22/2019 03:52:15 PM DEBUG    role=standalone
05/22/2019 03:52:15 PM DEBUG    Connected!
05/22/2019 03:52:15 PM DEBUG    db ini file = db_4.ini
05/22/2019 03:52:15 PM DEBUG    hostName=srv-supdp2-pg01
05/22/2019 03:52:15 PM DEBUG    portNumber=5432
05/22/2019 03:52:15 PM DEBUG    database=postgres
05/22/2019 03:52:15 PM DEBUG    username=pgmonitor
05/22/2019 03:52:15 PM DEBUG    password=pgmonitor
05/22/2019 03:52:15 PM DEBUG    version=9
05/22/2019 03:52:15 PM DEBUG    role=replic_slave
05/22/2019 03:52:15 PM DEBUG    Connected!
05/22/2019 03:52:15 PM DEBUG    check ini file = check_1.ini
05/22/2019 03:52:15 PM DEBUG    --------
05/22/2019 03:52:15 PM DEBUG    nameParamFile=check_1.ini
05/22/2019 03:52:15 PM DEBUG    ok_min_value = 0.90
05/22/2019 03:52:15 PM DEBUG    ok_max_value = 1
05/22/2019 03:52:15 PM DEBUG    warning_min_value = 0.80
05/22/2019 03:52:15 PM DEBUG    warning_max_value = 0.90
05/22/2019 03:52:15 PM DEBUG    sqlText = SELECT
sum(heap_blks_hit) / (sum(heap_blks_hit) + sum(heap_blks_read)) as ratio
FROM
pg_statio_all_tables;
05/22/2019 03:52:15 PM DEBUG    desc = cache hit ratio
05/22/2019 03:52:15 PM DEBUG    type = check_float
05/22/2019 03:52:15 PM DEBUG    version=0
05/22/2019 03:52:15 PM DEBUG    role=unknown
05/22/2019 03:52:15 PM DEBUG    check ini file = check_2_session_cnt.ini
05/22/2019 03:52:15 PM DEBUG    --------
05/22/2019 03:52:15 PM DEBUG    nameParamFile=check_2_session_cnt.ini
05/22/2019 03:52:15 PM DEBUG    sqlText = SELECT rpad(coalesce(usename,'NULL'),20)||' '|| rpad(coalesce(state,'NULL'),25) ||'  ' ||  count(*) as RESULT
FROM  pg_stat_activity
GROUP BY usename,  state
ORDER BY usename,  state ;
05/22/2019 03:52:15 PM DEBUG    desc = session count info
05/22/2019 03:52:15 PM DEBUG    type = info
05/22/2019 03:52:15 PM DEBUG    version=0
05/22/2019 03:52:15 PM DEBUG    role=unknown
05/22/2019 03:52:15 PM DEBUG    check ini file = check_3_size.ini
05/22/2019 03:52:15 PM DEBUG    --------
05/22/2019 03:52:15 PM DEBUG    nameParamFile=check_3_size.ini
05/22/2019 03:52:15 PM DEBUG    sqlText = select rpad('database_name',20) ||' | '|| rpad('size_in_mb',20)  AS RESULT
union all
select rpad('-------------',20) ||' | '|| rpad('---------',20)  AS RESULT
union all
SELECT rpad(pg_database.datname,20)||' | '|| rpad( to_char( pg_database_size(pg_database.datname)/1024/1024,'999999999') ,20) AS RESULT
FROM pg_database;
05/22/2019 03:52:15 PM DEBUG    desc = Size of all databases
05/22/2019 03:52:15 PM DEBUG    type = info
05/22/2019 03:52:15 PM DEBUG    version=0
05/22/2019 03:52:15 PM DEBUG    role=unknown
05/22/2019 03:52:15 PM DEBUG    check ini file = check_4_replic_master_1.ini
05/22/2019 03:52:15 PM DEBUG    --------
05/22/2019 03:52:15 PM DEBUG    nameParamFile=check_4_replic_master_1.ini
05/22/2019 03:52:15 PM DEBUG    ok_value = streaming
05/22/2019 03:52:15 PM DEBUG    sqlText = select s.state from func_stat_replication() s;
05/22/2019 03:52:15 PM DEBUG    desc = Master replication state
05/22/2019 03:52:15 PM DEBUG    type = check_str
05/22/2019 03:52:15 PM DEBUG    version=9
05/22/2019 03:52:15 PM DEBUG    role=replic_master
05/22/2019 03:52:15 PM DEBUG    check ini file = check_4_replic_master_2.ini
05/22/2019 03:52:15 PM DEBUG    --------
05/22/2019 03:52:15 PM DEBUG    nameParamFile=check_4_replic_master_2.ini
05/22/2019 03:52:15 PM DEBUG    ok_min_value = 0
05/22/2019 03:52:15 PM DEBUG    ok_max_value = 10000
05/22/2019 03:52:15 PM DEBUG    warning_min_value = 10000
05/22/2019 03:52:15 PM DEBUG    warning_max_value = 20000
05/22/2019 03:52:15 PM DEBUG    sqlText = select pg_xlog_location_diff(s.sent_location,s.replay_location) byte_lag from pg_stat_replication s;
05/22/2019 03:52:15 PM DEBUG    desc = Master replication byte lag
05/22/2019 03:52:15 PM DEBUG    type = check_int
05/22/2019 03:52:15 PM DEBUG    version=9
05/22/2019 03:52:15 PM DEBUG    role=replic_master
05/22/2019 03:52:15 PM DEBUG    check ini file = check_4_replic_master_4.ini
05/22/2019 03:52:15 PM DEBUG    --------
05/22/2019 03:52:15 PM DEBUG    nameParamFile=check_4_replic_master_4.ini
05/22/2019 03:52:15 PM DEBUG    sqlText = select ' client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | ' as result
union all
select '------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| ' as result
union all
select rpad(text(client_addr),18)||'|'||
rpad(state,15)||'|'||
rpad(text(sent_location),20)||'|'||
rpad(text(write_location),20)||'|'||
rpad(text(flush_location),20)||'|'||
rpad(text(replay_location),20)||'|'||
rpad(to_char(pg_xlog_location_diff(sent_location,replay_location),'99999999999'),20)  as byte_lag
from func_stat_replication();
05/22/2019 03:52:15 PM DEBUG    desc = Master replication state
05/22/2019 03:52:15 PM DEBUG    type = info
05/22/2019 03:52:15 PM DEBUG    version=9
05/22/2019 03:52:15 PM DEBUG    role=replic_master
05/22/2019 03:52:15 PM DEBUG    check ini file = check_5_replic_slave_1.ini
05/22/2019 03:52:15 PM DEBUG    --------
05/22/2019 03:52:15 PM DEBUG    nameParamFile=check_5_replic_slave_1.ini
05/22/2019 03:52:15 PM DEBUG    ok_value = True
05/22/2019 03:52:15 PM DEBUG    sqlText = Select
Cast(Case
When pg_is_in_recovery() Then 'True'
ELse 'False' END
AS Varchar(256)) as status
from pg_is_in_recovery() ;
05/22/2019 03:52:15 PM DEBUG    desc = Recovery replication status
05/22/2019 03:52:15 PM DEBUG    type = check_str
05/22/2019 03:52:15 PM DEBUG    version=9
05/22/2019 03:52:15 PM DEBUG    role=replic_slave
05/22/2019 03:52:15 PM DEBUG    check ini file = check_5_replic_slave_2.ini
05/22/2019 03:52:15 PM DEBUG    --------
05/22/2019 03:52:15 PM DEBUG    nameParamFile=check_5_replic_slave_2.ini
05/22/2019 03:52:15 PM DEBUG    ok_value = 
05/22/2019 03:52:15 PM DEBUG    sqlText = select to_char(now()-pg_last_xact_replay_timestamp(), 'yyyy-MM-dd HH24:mm:ss') as result;
05/22/2019 03:52:15 PM DEBUG    desc = Recovery replication apply delay
05/22/2019 03:52:15 PM DEBUG    type = check_str
05/22/2019 03:52:15 PM DEBUG    version=9
05/22/2019 03:52:15 PM DEBUG    role=replic_slave
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:52:15 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:52:15 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:52:15 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:15 PM DEBUG    result=0.999936195102972
05/22/2019 03:52:15 PM DEBUG    resultSql = 0.999936195102972
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.999936195102972 OK
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.999936195102972 OK
05/22/2019 03:52:15 PM DEBUG    --- one_check started: session count info
05/22/2019 03:52:15 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:52:15 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:15 PM DEBUG    result next string=ehdapi2              NULL                       4
05/22/2019 03:52:15 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:52:15 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:52:15 PM DEBUG    result next string=NULL                 NULL                       4
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : ehdapi2              NULL                       4
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       1
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : NULL                 NULL                       4
05/22/2019 03:52:15 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:52:15 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:52:15 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:15 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:52:15 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:52:15 PM DEBUG    result next string=postgres             |         17          
05/22/2019 03:52:15 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:52:15 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:52:15 PM DEBUG    result next string=template_postgis     |         14          
05/22/2019 03:52:15 PM DEBUG    result next string=ehdapi2              |         19          
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |         17          
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          7          
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          7          
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : template_postgis     |         14          
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : ehdapi2              |         19          
05/22/2019 03:52:15 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:52:15 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:52:15 PM DEBUG    version not equals, exit
05/22/2019 03:52:15 PM DEBUG    --- one_check started: Master replication byte lag
05/22/2019 03:52:15 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:52:15 PM DEBUG    version not equals, exit
05/22/2019 03:52:15 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:52:15 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:52:15 PM DEBUG    version not equals, exit
05/22/2019 03:52:15 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:52:15 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:52:15 PM DEBUG    version not equals, exit
05/22/2019 03:52:15 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:52:15 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:52:15 PM DEBUG    version not equals, exit
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:52:15 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:52:15 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:52:15 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:15 PM DEBUG    result=0.9931460843565172
05/22/2019 03:52:15 PM DEBUG    resultSql = 0.9931460843565172
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9931460843565172 OK
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9931460843565172 OK
05/22/2019 03:52:15 PM DEBUG    --- one_check started: session count info
05/22/2019 03:52:15 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:52:15 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:15 PM DEBUG    result next string=gdoc                 NULL                       91
05/22/2019 03:52:15 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:52:15 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:52:15 PM DEBUG    result next string=sbrazgin             NULL                       4
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 NULL                       91
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       1
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : sbrazgin             NULL                       4
05/22/2019 03:52:15 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:52:15 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:52:15 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:52:15 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:16 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:52:16 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:52:16 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:52:16 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:52:16 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:52:16 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:52:16 PM DEBUG    result next string=gdoc                 |      74796          
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          6          
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          6          
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] : test                 |          7          
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 |      74796          
05/22/2019 03:52:16 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:52:16 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:52:16 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] : -- Master replication state
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:16 PM DEBUG    result=streaming
05/22/2019 03:52:16 PM DEBUG    resultSql = streaming
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] : Value : streaming OK
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [short] : Master replication state Value : streaming OK
05/22/2019 03:52:16 PM DEBUG    --- one_check started: Master replication byte lag
05/22/2019 03:52:16 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:52:16 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] : -- Master replication byte lag
05/22/2019 03:52:16 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:45 PM INFO     Started
05/22/2019 03:52:45 PM INFO     TEXT_SAVE [full] started, out_file = c:\d\PGCheker.out
05/22/2019 03:52:45 PM INFO     TEXT_SAVE [short] started, out_file = c:\d\PGCheker2.out
05/22/2019 03:52:45 PM DEBUG    db ini file = db_1.ini
05/22/2019 03:52:45 PM DEBUG    hostName=srv-tnormap1-pg01
05/22/2019 03:52:45 PM DEBUG    portNumber=5432
05/22/2019 03:52:45 PM DEBUG    database=ehdapi2
05/22/2019 03:52:45 PM DEBUG    username=pgmonitor
05/22/2019 03:52:45 PM DEBUG    password=pgmonitor
05/22/2019 03:52:45 PM DEBUG    version=0
05/22/2019 03:52:45 PM DEBUG    role=standalone
05/22/2019 03:52:45 PM DEBUG    Connected!
05/22/2019 03:52:45 PM DEBUG    db ini file = db_2.ini
05/22/2019 03:52:45 PM DEBUG    hostName=srv-supdp2-pg01st
05/22/2019 03:52:45 PM DEBUG    portNumber=5432
05/22/2019 03:52:45 PM DEBUG    database=postgres
05/22/2019 03:52:45 PM DEBUG    username=pgmonitor
05/22/2019 03:52:45 PM DEBUG    password=pgmonitor
05/22/2019 03:52:45 PM DEBUG    version=9
05/22/2019 03:52:45 PM DEBUG    role=replic_master
05/22/2019 03:52:45 PM DEBUG    Connected!
05/22/2019 03:52:45 PM DEBUG    db ini file = db_3.ini
05/22/2019 03:52:45 PM DEBUG    hostName=srv-sm-arm04
05/22/2019 03:52:45 PM DEBUG    portNumber=5432
05/22/2019 03:52:45 PM DEBUG    database=susemanager
05/22/2019 03:52:45 PM DEBUG    username=pgmonitor
05/22/2019 03:52:45 PM DEBUG    password=pgmonitor
05/22/2019 03:52:45 PM DEBUG    version=0
05/22/2019 03:52:45 PM DEBUG    role=standalone
05/22/2019 03:52:45 PM DEBUG    Connected!
05/22/2019 03:52:45 PM DEBUG    db ini file = db_4.ini
05/22/2019 03:52:45 PM DEBUG    hostName=srv-supdp2-pg01
05/22/2019 03:52:45 PM DEBUG    portNumber=5432
05/22/2019 03:52:45 PM DEBUG    database=postgres
05/22/2019 03:52:45 PM DEBUG    username=pgmonitor
05/22/2019 03:52:45 PM DEBUG    password=pgmonitor
05/22/2019 03:52:45 PM DEBUG    version=9
05/22/2019 03:52:45 PM DEBUG    role=replic_slave
05/22/2019 03:52:45 PM DEBUG    Connected!
05/22/2019 03:52:45 PM DEBUG    check ini file = check_1.ini
05/22/2019 03:52:45 PM DEBUG    --------
05/22/2019 03:52:45 PM DEBUG    nameParamFile=check_1.ini
05/22/2019 03:52:45 PM DEBUG    ok_min_value = 0.90
05/22/2019 03:52:45 PM DEBUG    ok_max_value = 1
05/22/2019 03:52:45 PM DEBUG    warning_min_value = 0.80
05/22/2019 03:52:45 PM DEBUG    warning_max_value = 0.90
05/22/2019 03:52:45 PM DEBUG    sqlText = SELECT
sum(heap_blks_hit) / (sum(heap_blks_hit) + sum(heap_blks_read)) as ratio
FROM
pg_statio_all_tables;
05/22/2019 03:52:45 PM DEBUG    desc = cache hit ratio
05/22/2019 03:52:45 PM DEBUG    type = check_float
05/22/2019 03:52:45 PM DEBUG    version=0
05/22/2019 03:52:45 PM DEBUG    role=unknown
05/22/2019 03:52:45 PM DEBUG    check ini file = check_2_session_cnt.ini
05/22/2019 03:52:45 PM DEBUG    --------
05/22/2019 03:52:45 PM DEBUG    nameParamFile=check_2_session_cnt.ini
05/22/2019 03:52:45 PM DEBUG    sqlText = SELECT rpad(coalesce(usename,'NULL'),20)||' '|| rpad(coalesce(state,'NULL'),25) ||'  ' ||  count(*) as RESULT
FROM  pg_stat_activity
GROUP BY usename,  state
ORDER BY usename,  state ;
05/22/2019 03:52:45 PM DEBUG    desc = session count info
05/22/2019 03:52:45 PM DEBUG    type = info
05/22/2019 03:52:45 PM DEBUG    version=0
05/22/2019 03:52:45 PM DEBUG    role=unknown
05/22/2019 03:52:45 PM DEBUG    check ini file = check_3_size.ini
05/22/2019 03:52:45 PM DEBUG    --------
05/22/2019 03:52:45 PM DEBUG    nameParamFile=check_3_size.ini
05/22/2019 03:52:45 PM DEBUG    sqlText = select rpad('database_name',20) ||' | '|| rpad('size_in_mb',20)  AS RESULT
union all
select rpad('-------------',20) ||' | '|| rpad('---------',20)  AS RESULT
union all
SELECT rpad(pg_database.datname,20)||' | '|| rpad( to_char( pg_database_size(pg_database.datname)/1024/1024,'999999999') ,20) AS RESULT
FROM pg_database;
05/22/2019 03:52:45 PM DEBUG    desc = Size of all databases
05/22/2019 03:52:45 PM DEBUG    type = info
05/22/2019 03:52:45 PM DEBUG    version=0
05/22/2019 03:52:45 PM DEBUG    role=unknown
05/22/2019 03:52:45 PM DEBUG    check ini file = check_4_replic_master_1.ini
05/22/2019 03:52:45 PM DEBUG    --------
05/22/2019 03:52:45 PM DEBUG    nameParamFile=check_4_replic_master_1.ini
05/22/2019 03:52:45 PM DEBUG    ok_value = streaming
05/22/2019 03:52:45 PM DEBUG    sqlText = select s.state from func_stat_replication() s;
05/22/2019 03:52:45 PM DEBUG    desc = Master replication state
05/22/2019 03:52:45 PM DEBUG    type = check_str
05/22/2019 03:52:45 PM DEBUG    version=9
05/22/2019 03:52:45 PM DEBUG    role=replic_master
05/22/2019 03:52:45 PM DEBUG    check ini file = check_4_replic_master_2.ini
05/22/2019 03:52:45 PM DEBUG    --------
05/22/2019 03:52:45 PM DEBUG    nameParamFile=check_4_replic_master_2.ini
05/22/2019 03:52:45 PM DEBUG    ok_min_value = 0
05/22/2019 03:52:45 PM DEBUG    ok_max_value = 10000
05/22/2019 03:52:45 PM DEBUG    warning_min_value = 10000
05/22/2019 03:52:45 PM DEBUG    warning_max_value = 20000
05/22/2019 03:52:45 PM DEBUG    sqlText = select pg_xlog_location_diff(s.sent_location,s.replay_location) byte_lag from func_stat_replication() s;
05/22/2019 03:52:45 PM DEBUG    desc = Master replication byte lag
05/22/2019 03:52:45 PM DEBUG    type = check_int
05/22/2019 03:52:45 PM DEBUG    version=9
05/22/2019 03:52:45 PM DEBUG    role=replic_master
05/22/2019 03:52:45 PM DEBUG    check ini file = check_4_replic_master_4.ini
05/22/2019 03:52:45 PM DEBUG    --------
05/22/2019 03:52:45 PM DEBUG    nameParamFile=check_4_replic_master_4.ini
05/22/2019 03:52:45 PM DEBUG    sqlText = select ' client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | ' as result
union all
select '------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| ' as result
union all
select rpad(text(client_addr),18)||'|'||
rpad(state,15)||'|'||
rpad(text(sent_location),20)||'|'||
rpad(text(write_location),20)||'|'||
rpad(text(flush_location),20)||'|'||
rpad(text(replay_location),20)||'|'||
rpad(to_char(pg_xlog_location_diff(sent_location,replay_location),'99999999999'),20)  as byte_lag
from func_stat_replication();
05/22/2019 03:52:45 PM DEBUG    desc = Master replication state
05/22/2019 03:52:45 PM DEBUG    type = info
05/22/2019 03:52:45 PM DEBUG    version=9
05/22/2019 03:52:45 PM DEBUG    role=replic_master
05/22/2019 03:52:45 PM DEBUG    check ini file = check_5_replic_slave_1.ini
05/22/2019 03:52:45 PM DEBUG    --------
05/22/2019 03:52:45 PM DEBUG    nameParamFile=check_5_replic_slave_1.ini
05/22/2019 03:52:45 PM DEBUG    ok_value = True
05/22/2019 03:52:45 PM DEBUG    sqlText = Select
Cast(Case
When pg_is_in_recovery() Then 'True'
ELse 'False' END
AS Varchar(256)) as status
from pg_is_in_recovery() ;
05/22/2019 03:52:45 PM DEBUG    desc = Recovery replication status
05/22/2019 03:52:45 PM DEBUG    type = check_str
05/22/2019 03:52:45 PM DEBUG    version=9
05/22/2019 03:52:45 PM DEBUG    role=replic_slave
05/22/2019 03:52:45 PM DEBUG    check ini file = check_5_replic_slave_2.ini
05/22/2019 03:52:45 PM DEBUG    --------
05/22/2019 03:52:45 PM DEBUG    nameParamFile=check_5_replic_slave_2.ini
05/22/2019 03:52:45 PM DEBUG    ok_value = 
05/22/2019 03:52:45 PM DEBUG    sqlText = select to_char(now()-pg_last_xact_replay_timestamp(), 'yyyy-MM-dd HH24:mm:ss') as result;
05/22/2019 03:52:45 PM DEBUG    desc = Recovery replication apply delay
05/22/2019 03:52:45 PM DEBUG    type = check_str
05/22/2019 03:52:45 PM DEBUG    version=9
05/22/2019 03:52:45 PM DEBUG    role=replic_slave
05/22/2019 03:52:45 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:52:45 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:52:45 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:52:45 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:52:45 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-tnormap1-pg01, port=5432, database=ehdapi2, role=standalone
05/22/2019 03:52:45 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:52:45 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:52:45 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:52:45 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:52:45 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:45 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:45 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:52:45 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result=0.9999361965714959
05/22/2019 03:52:46 PM DEBUG    resultSql = 0.9999361965714959
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9999361965714959 OK
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9999361965714959 OK
05/22/2019 03:52:46 PM DEBUG    --- one_check started: session count info
05/22/2019 03:52:46 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:52:46 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result next string=ehdapi2              NULL                       4
05/22/2019 03:52:46 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:52:46 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:52:46 PM DEBUG    result next string=NULL                 NULL                       4
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : ehdapi2              NULL                       4
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       1
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : NULL                 NULL                       4
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:52:46 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:52:46 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:52:46 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:52:46 PM DEBUG    result next string=postgres             |         17          
05/22/2019 03:52:46 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:52:46 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:52:46 PM DEBUG    result next string=template_postgis     |         14          
05/22/2019 03:52:46 PM DEBUG    result next string=ehdapi2              |         19          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |         17          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          7          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          7          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : template_postgis     |         14          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : ehdapi2              |         19          
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:52:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:52:46 PM DEBUG    version not equals, exit
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Master replication byte lag
05/22/2019 03:52:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:52:46 PM DEBUG    version not equals, exit
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:52:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:52:46 PM DEBUG    version not equals, exit
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:52:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:52:46 PM DEBUG    version not equals, exit
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:52:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:52:46 PM DEBUG    version not equals, exit
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-supdp2-pg01st, port=5432, database=postgres, role=replic_master
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:52:46 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result=0.9931459652085805
05/22/2019 03:52:46 PM DEBUG    resultSql = 0.9931459652085805
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9931459652085805 OK
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9931459652085805 OK
05/22/2019 03:52:46 PM DEBUG    --- one_check started: session count info
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result next string=gdoc                 NULL                       92
05/22/2019 03:52:46 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:52:46 PM DEBUG    result next string=postgres             NULL                       1
05/22/2019 03:52:46 PM DEBUG    result next string=sbrazgin             NULL                       4
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 NULL                       92
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       1
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : sbrazgin             NULL                       4
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_master check1.role=unknown
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:52:46 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:52:46 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:52:46 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:52:46 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:52:46 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:52:46 PM DEBUG    result next string=gdoc                 |      74796          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          6          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          6          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : test                 |          7          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 |      74796          
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- Master replication state
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result=streaming
05/22/2019 03:52:46 PM DEBUG    resultSql = streaming
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : Value : streaming OK
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : Master replication state Value : streaming OK
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Master replication byte lag
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- Master replication byte lag
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result=83928
05/22/2019 03:52:46 PM DEBUG    resultSql = 83928
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : Value : 83928 Error
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : Master replication byte lag Value : 83928 Error
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_master check1.role=replic_master
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- Master replication state
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result next string= client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:52:46 PM DEBUG    result next string=------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:52:46 PM DEBUG    result next string=10.1.131.8/32     |streaming      |157/130E4000        |157/130E4000        |157/130E4000        |157/130CF828        |       83928        
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  client_addr      |     state     |sent_location       |write_location      |flush_location      |replay_location     |byte_lag            | 
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : ------------------|---------------|--------------------|--------------------|--------------------|--------------------|--------------------| 
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : 10.1.131.8/32     |streaming      |157/130E4000        |157/130E4000        |157/130E4000        |157/130CF828        |       83928        
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:52:46 PM DEBUG    role not equals, exit
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_master check1.role=replic_slave
05/22/2019 03:52:46 PM DEBUG    role not equals, exit
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-sm-arm04, port=5432, database=susemanager, role=standalone
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-sm-arm04, port=5432, database=susemanager, role=standalone
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:52:46 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:52:46 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:52:46 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result=0.9993005247931963
05/22/2019 03:52:46 PM DEBUG    resultSql = 0.9993005247931963
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9993005247931963 OK
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9993005247931963 OK
05/22/2019 03:52:46 PM DEBUG    --- one_check started: session count info
05/22/2019 03:52:46 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:52:46 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:52:46 PM DEBUG    result next string=postgres             NULL                       4
05/22/2019 03:52:46 PM DEBUG    result next string=susemanager          NULL                       36
05/22/2019 03:52:46 PM DEBUG    result next string=NULL                 NULL                       7
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : postgres             NULL                       4
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : susemanager          NULL                       36
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : NULL                 NULL                       7
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:52:46 PM DEBUG    db1.version=0 check1.version=0
05/22/2019 03:52:46 PM DEBUG    db1.role=standalone check1.role=unknown
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:52:46 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:52:46 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:52:46 PM DEBUG    result next string=template1            |          7          
05/22/2019 03:52:46 PM DEBUG    result next string=template0            |          7          
05/22/2019 03:52:46 PM DEBUG    result next string=susemanager          |      69117          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          7          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          7          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : susemanager          |      69117          
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:52:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:52:46 PM DEBUG    version not equals, exit
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Master replication byte lag
05/22/2019 03:52:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:52:46 PM DEBUG    version not equals, exit
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:52:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:52:46 PM DEBUG    version not equals, exit
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:52:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:52:46 PM DEBUG    version not equals, exit
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:52:46 PM DEBUG    db1.version=0 check1.version=9
05/22/2019 03:52:46 PM DEBUG    version not equals, exit
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : == Database: host=srv-supdp2-pg01, port=5432, database=postgres, role=replic_slave
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : =====================================================================================
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : == Database: host=srv-supdp2-pg01, port=5432, database=postgres, role=replic_slave
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : =====================================================================================
05/22/2019 03:52:46 PM DEBUG    --- one_check started: cache hit ratio
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- cache hit ratio
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result=0.9999971816434544
05/22/2019 03:52:46 PM DEBUG    resultSql = 0.9999971816434544
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0.9999971816434544 OK
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : cache hit ratio Value : 0.9999971816434544 OK
05/22/2019 03:52:46 PM DEBUG    --- one_check started: session count info
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- session count info
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result next string=pgmonitor            active                     1
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : pgmonitor            active                     1
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Size of all databases
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=0
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_slave check1.role=unknown
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- Size of all databases
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result next string=database_name        | size_in_mb          
05/22/2019 03:52:46 PM DEBUG    result next string=-------------        | ---------           
05/22/2019 03:52:46 PM DEBUG    result next string=postgres             |          7          
05/22/2019 03:52:46 PM DEBUG    result next string=template1            |          6          
05/22/2019 03:52:46 PM DEBUG    result next string=template0            |          6          
05/22/2019 03:52:46 PM DEBUG    result next string=test                 |          7          
05/22/2019 03:52:46 PM DEBUG    result next string=gdoc                 |      74796          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : database_name        | size_in_mb          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------        | ---------           
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : postgres             |          7          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : template1            |          6          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : template0            |          6          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : test                 |          7          
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : gdoc                 |      74796          
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_slave check1.role=replic_master
05/22/2019 03:52:46 PM DEBUG    role not equals, exit
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Master replication byte lag
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_slave check1.role=replic_master
05/22/2019 03:52:46 PM DEBUG    role not equals, exit
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Master replication state
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_slave check1.role=replic_master
05/22/2019 03:52:46 PM DEBUG    role not equals, exit
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Recovery replication status
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- Recovery replication status
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result=True
05/22/2019 03:52:46 PM DEBUG    resultSql = True
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : Value : True OK
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : Recovery replication status Value : True OK
05/22/2019 03:52:46 PM DEBUG    --- one_check started: Recovery replication apply delay
05/22/2019 03:52:46 PM DEBUG    db1.version=9 check1.version=9
05/22/2019 03:52:46 PM DEBUG    db1.role=replic_slave check1.role=replic_slave
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] :  
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -- Recovery replication apply delay
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : -------------------------------------------------------
05/22/2019 03:52:46 PM DEBUG    result=0000-00-00 00:00:00
05/22/2019 03:52:46 PM DEBUG    resultSql = 0000-00-00 00:00:00
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [full] : Value : 0000-00-00 00:00:00 
05/22/2019 03:52:46 PM DEBUG    WRITE TO OUT LOG [short] : Recovery replication apply delay Value : 0000-00-00 00:00:00 
